<!doctype html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="Sash – Bootstrap 5  Admin & Dashboard Template">
        <meta name="author" content="Spruko Technologies Private Limited">
        <meta name="keywords" content="admin,admin dashboard,admin panel,admin template,bootstrap,clean,dashboard,flat,jquery,modern,responsive,premium admin templates,responsive admin,ui,ui kit.">
        <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-straight/css/uicons-regular-straight.css">
        <link rel="shortcut icon" type="image/x-icon" href="../assets/images/brand/favicon.ico">
        <title>Tasks list - SpadeRent</title>
        <link id="style" href="../assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="../assets/css/style.css" rel="stylesheet">
        <link href="../assets/css/dark-style.css" rel="stylesheet">
        <link href="../assets/css/transparent-style.css" rel="stylesheet">
        <link href="../assets/css/skin-modes.css" rel="stylesheet">
        <link rel="stylesheet" href="../assets/css/responsive2.css">
        <link href="../assets/css/icons.css" rel="stylesheet">
        <script>
        if (localStorage.getItem("task") == "false") {
            window.location = "./new-tasks.html"
        }
        </script>
        <link
            id="theme"
            rel="stylesheet"
            type="text/css"
            media="all"
            href="../assets/colors/color1.css"
        >
        <script>
        if (!localStorage.getItem("authtoken")) {
            window.location = "./login_module.html"
        }
        </script>
        <link rel="stylesheet" href="../assets/pageCss/landlordCss/create-tasks.css">
    </head>
    <body class="app sidebar-mini ltr light-mode">
      
        <div
            class="modal fade effect-scale"
            id="modaldemo8"
            tabindex="-1"
            role="dialog"
        >
            <div class="modal-dialog modal-dialog-centered modal-l" role="document">
                <div class="modal-content">
                    <div class="modal-body pt-5">
                        <div class="d-flex flex-column justify-content-center align-items-center p-5" style="text-align: center;">
                            <img
                                src="../assets/images/Artboard GÇô 1.svg"
                                alt="Rent-logo"
                                style="max-width: 110px;"
                                class="Rent-logo mb-5"
                            >
                            <h1 class="mb-4 text-dark fw-bold">Verify Your Email Address</h1>
                            <h6 class="text-default mb-3">Enter a 6-digit code to verify email address</h6>
                            <input
                                id="token"
                                name="token"
                                type="phone"
                                class="form-control form mb-2"
                                pattern="[0-9]{5}"
                                maxlength="6"
                                oninput="this.value = this.value.replace(/[^0-9]/g, '')"
                                style="width: 100%;"
                                data-bs-placement="top"
                                data-bs-toggle="tooltip"
                                title=""
                                data-bs-original-title="Enter the name of the property."
                            >
                            <input
                                type="password"
                                class="form-control form mb-2"
                                id="email-verify-password"
                                aria-describedby="emailHelp"
                                placeholder="Password"
                                data-bs-placement="top"
                                data-bs-toggle="tooltip"
                                title=""
                                data-bs-original-title="Enter password here."
                            >
                            <span class="mt-1 text-danger" id="passnotmatch1" style="display: none;">
                                MUST be atleast 8 characters long, Must contain atleast One Uppercase and One symbol.
                            </span>
                            <div class="">
                                <a href="javascript:void(0)" class="btn btn-primary btn-pill disabled" id="verify-btn">Verify</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade effect-scale"
            id="modaldemo00"
            tabindex="-1"
            role="dialog"
        >
            <div class="modal-dialog modal-dialog-centered modal-l" role="document">
                <div class="modal-content">
                    <div class="modal-body pt-5">
                        <div class="d-flex flex-column justify-content-center align-items-center p-5" style="text-align: center;">
                            <img
                                src="../assets/images/Artboard GÇô 1.svg"
                                alt="Rent-logo"
                                style="max-width: 110px;"
                                class="Rent-logo mb-5"
                            >
                            <h1 class="mb-4 text-dark fw-bold">Verify Your Email Address</h1>
                            <h6 class="text-default mb-3">Get started with Spade Rent! You have
                                <span id="days-left"></span>
                                left
                            </h6>
                            <input
                                type="email"
                                class="form-control form mb-2"
                                style="width: 100%;"
                                data-bs-placement="top"
                                data-bs-toggle="tooltip"
                                title=""
                                data-bs-original-title="Enter the name of the property."
                                readonly=""
                                id="user-email"
                                aria-describedby="tooltip281258"
                            >
                            <a class="text-primary mb-4" href="javascript:void(0)">Change Email</a>
                            <div class="">
                                <a href="javascript:void(0)" class="btn btn-outline-primary btn-pill me-2" id="remind-later">Remind Me Later</a>
                                <a href="javascript:void(0)" class="btn btn-primary btn-pill" id="send-email">Send Mail</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade"
            id="successfully_changed"
            tabindex="-1"
            role="dialog"
        >
            <div class="modal-dialog modal-dialog-centered text-center" role="document">
                <div class="modal-content modal-content-demo">
                    <div class="modal-body p-0">
                        <div class="card border p-0 pb-3" style="margin-bottom: 0rem">
                            <div class="card-body text-center">
                                <span class="">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        height="60"
                                        width="60"
                                        viewBox="0 0 24 24"
                                    >
                                        <path fill="#13bfa6" d="M10.3125,16.09375a.99676.99676,0,0,1-.707-.293L6.793,12.98828A.99989.99989,0,0,1,8.207,11.57422l2.10547,2.10547L15.793,8.19922A.99989.99989,0,0,1,17.207,9.61328l-6.1875,6.1875A.99676.99676,0,0,1,10.3125,16.09375Z" opacity=".99"/>
                                        <path fill="#71d8c9" d="M12,2A10,10,0,1,0,22,12,10.01146,10.01146,0,0,0,12,2Zm5.207,7.61328-6.1875,6.1875a.99963.99963,0,0,1-1.41406,0L6.793,12.98828A.99989.99989,0,0,1,8.207,11.57422l2.10547,2.10547L15.793,8.19922A.99989.99989,0,0,1,17.207,9.61328Z"/>
                                    </svg>
                                </span>
                                <p class="card-text text-dark" id="successfully_changed_text"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade"
            id="myModal_warning"
            tabindex="-1"
            role="dialog"
        >
            <div class="modal-dialog modal-dialog-centered text-center" role="document">
                <div class="modal-content modal-content-demo">
                    <div class="modal-body p-0">
                        <div class="card border p-0 pb-3" style="margin-bottom: 0rem;">
                            <div class="card-body text-center">
                                <span class="">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        height="60"
                                        width="60"
                                        viewBox="0 0 24 24"
                                    >
                                        <path fill="#fad383" d="M15.728,22H8.272a1.00014,1.00014,0,0,1-.707-.293l-5.272-5.272A1.00014,1.00014,0,0,1,2,15.728V8.272a1.00014,1.00014,0,0,1,.293-.707l5.272-5.272A1.00014,1.00014,0,0,1,8.272,2H15.728a1.00014,1.00014,0,0,1,.707.293l5.272,5.272A1.00014,1.00014,0,0,1,22,8.272V15.728a1.00014,1.00014,0,0,1-.293.707l-5.272,5.272A1.00014,1.00014,0,0,1,15.728,22Z"/>
                                        <circle
                                            cx="12"
                                            cy="16"
                                            r="1"
                                            fill="#f7b731"
                                        />
                                        <path fill="#f7b731" d="M12,13a1,1,0,0,1-1-1V8a1,1,0,0,1,2,0v4A1,1,0,0,1,12,13Z"/>
                                    </svg>
                                </span>
                                <h4 class="h4 mb-0 mt-3 fw-bold">Warning</h4>
                                <p class="card-text text-dark">Session expeired!, Login again</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade"
            id="viewModal-tasks"
            tabindex="-1"
            role="dialog"
        >
            <div class="modal-dialog modal-lg modal-dialog-scrollable" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="text-justify ps-2 border-model-line">
                            <h2 class="modal-title mb-0">View
                                <strong class="color-primary">Tasks</strong>
                            </h2>
                        </div>
                        <button
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                            id="viewModal-tasks"
                        >
                            <span aria-hidden="true">
                                <i class="fi fi-rs-circle-xmark text-dark text-dark"></i>
                            </span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-3">
                                <label>
                                    <b>Task Name</b>
                                </label>
                                <p class="text-primary">
                                    <b id="taskName_view"></b>
                                </p>
                            </div>
                            <div class="col-lg-3">
                                <label>
                                    <b>Due Date</b>
                                </label>
                                <p class="text-primary">
                                    <b id="dueDate_view">June-06-2023</b>
                                </p>
                            </div>
                            <div class="col-lg-3">
                                <label>
                                    <b>Priority</b>
                                </label>
                                <p class="text-primary">
                                    <b id="priority_view">High Priority</b>
                                </p>
                            </div>
                            <div class="col-lg-3">
                                <label>
                                    <b>Status</b>
                                </label>
                                <p class="text-danger">
                                    <b id="status_view">
                                        <i class="fi fi-rs-clock-three" style="color: #FB233B;"></i>
                                        Unpaid
                                    </b>
                                </p>
                            </div>
                            <div class="col-lg-12 mt-5">
                                <label>
                                    <b>Notes</b>
                                </label>
                                <p class="text-primary">
                                    <b id="notes_view">
                                        Lorem, ipsum dolor sit amet consectetur
                                    adipisicing elit.
                                    </b>
                                </p>
                            </div>
                            <div class="col-lg-12 mt-5">
                                <div style="display: flex;">
                                    <p class="text-primary">
                                        <b>Line Items</b>
                                    </p>
                                    <hr style="height: 2px; background: black; width: 88%; margin-left: 83px; position: absolute; margin-top: 10px;">
                                </div>
                            </div>
                        </div>
                        <div class="row mt-5">
                            <div class="col-12 mb-5">
                                <div class="table-responsive">
                                    <table class="table-hover table text-nowrap table-borderless text-md-nowrap mg-b-0 mb-0" id="lineItemsTable">
                                        <thead>
                                            <tr>
                                                <th>Vendor</th>
                                                <th>Property</th>
                                                <th>Tenant</th>
                                            </tr>
                                        </thead>
                                        <tbody id="view-task-line-item">
                                            <tr class="tr">
                                                <td>
                                                    <p class="text-primary">
                                                        <b> / 0321-2045564</b>
                                                    </p>
                                                </td>
                                                <td>
                                                    <p class="text-primary">
                                                        <b>Test / 200</b>
                                                    </p>
                                                </td>
                                                <td>
                                                    <p class="text-primary">
                                                        <b>John Smith / 0321-2045564</b>
                                                    </p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-lg-12 mt-5 mb-5" id="view-task-images"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="preloader" class="tlp-preloader">
            <div class="animation-preloader">
                <div class="tlp-spinner"></div>
                <img src="../assets/images/logo-preloader.png" alt="Preloader" style="width: 65px;">
            </div>
        </div>
        <div
            class="offcanvas offcanvas-start"
            tabindex="-1"
            id="offcanvasExample"
            aria-labelledby="offcanvasExampleLabel"
        >
            <div class="offcanvas-header pt-5">
                <h1 class="offcanvas-title" id="offcanvasExampleLabel">Create
                    <strong class="color-primary">New</strong>
                </h1>
                <button
                    type="button"
                    class="btn-close text-reset"
                    data-bs-dismiss="offcanvas"
                    aria-label="Close"
                >
                    <i class="fe fe-x fs-18"></i>
                </button>
            </div>
            <div class="offcanvas-body">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-6 col-lg-3 col-xl-3 mb-5">
                            <div class="card h-100">
                                <div class="card-header" style="background-color: #1467B0;color: white;">
                                    <div class="card-title fw-bold">
                                        <a href="properties-all.html" style="color: white;">Property</a>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="text-center chat-image mb-5">
                                        <div class="avatar avatar-xxl chat-profile mb-3 brround">
                                            <a class="" href="properties-all.html">
                                                <img alt="avatar" src="../assets/images/icons/Group 10341.png" class="brround w-100 h-100">
                                            </a>
                                        </div>
                                        <div class="main-chat-msg-name">
                                            <a href="properties-all.html">
                                                <h5 class="mb-1 text-dark fw-bold">Create New Property</h5>
                                            </a>
                                            <p class="text-default mt-0 mb-0 pt-0 fs-13">
                                                Simplify property management.
                                            Effortlessly create and manage rental properties with our software, making
                                            life easier for landlords and property managers.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-3 col-xl-3 mb-5">
                            <div class="card h-100">
                                <div class="card-header" style="background-color: #1467B0;color: white;">
                                    <div class="card-title fw-bold">
                                        <a href="add-tenant.html" style="color: white;">Tenant</a>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="text-center chat-image mb-5">
                                        <div class="avatar avatar-xxl chat-profile mb-3 brround">
                                            <a class="" href="add-tenant.html">
                                                <img alt="avatar" src="../assets/images/icons/Group 10344.png" class="brround w-100 h-100">
                                            </a>
                                        </div>
                                        <div class="main-chat-msg-name">
                                            <a href="add-tenant.html">
                                                <h5 class="mb-1 text-dark fw-bold">Create New Tenant</h5>
                                            </a>
                                            <p class="text-default mt-0 mb-0 pt-0 fs-13">
                                                Effortlessly add new tenants with
                                            our rental software, streamlining the tenant onboarding process for property
                                            managers and landlords.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-3 col-xl-3 mb-5">
                            <div class="card h-100">
                                <div class="card-header" style="background-color: #1467B0;color: white;">
                                    <div class="card-title fw-bold">
                                        <a href="create-invoicing.html" style="color: white;">Invoice</a>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="text-center chat-image mb-5">
                                        <div class="avatar avatar-xxl chat-profile mb-3 brround">
                                            <a class="" href="create-invoicing.html">
                                                <img alt="avatar" src="../assets/images/icons/Group 10346.png" class="brround w-100 h-100">
                                            </a>
                                        </div>
                                        <div class="main-chat-msg-name">
                                            <a href="create-invoicing.html">
                                                <h5 class="mb-1 text-dark fw-bold">Create New Invoice</h5>
                                            </a>
                                            <p class="text-default mt-0 mb-0 pt-0 fs-13">
                                                Effortlessly onboard new tenants
                                            with our user-friendly rental software, streamlining the tenant registration
                                            process for property managers and landlords.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-3 col-xl-3 mb-5">
                            <div class="card h-100">
                                <div class="card-header" style="background-color: #1467B0;color: white;">
                                    <div class="card-title fw-bold">
                                        <a href="prospects.html" style="color: white;">Prospect</a>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="text-center chat-image mb-5">
                                        <div class="avatar avatar-xxl chat-profile mb-3 brround">
                                            <a class="" href="prospects.html">
                                                <img alt="avatar" src="../assets/images/icons/Group 10348.png" class="brround w-100 h-100">
                                            </a>
                                        </div>
                                        <div class="main-chat-msg-name">
                                            <a href="prospects.html">
                                                <h5 class="mb-1 text-dark fw-bold">Create New Prospect</h5>
                                            </a>
                                            <p class="text-default mt-0 mb-0 pt-0 fs-13">
                                                Effortlessly generate and manage
                                            leads with our property rental software, making it easier for landlords to
                                            find potential tenants.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-3 col-xl-3 mb-5">
                            <div class="card h-100">
                                <div class="card-header" style="background-color: #1467B0;color: white;">
                                    <div class="card-title fw-bold">
                                        <a href="create-tasks.html" style="color: white;">Tasks</a>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="text-center chat-image mb-5">
                                        <div class="avatar avatar-xxl chat-profile mb-3 brround">
                                            <a class="" href="create-tasks.html">
                                                <img alt="avatar" src="../assets/images/icons/Group 10350.png" class="brround w-100 h-100">
                                            </a>
                                        </div>
                                        <div class="main-chat-msg-name">
                                            <a href="create-tasks.html">
                                                <h5 class="mb-1 text-dark fw-bold">Create New Tasks</h5>
                                            </a>
                                            <p class="text-default mt-0 mb-0 pt-0 fs-13">
                                                Effortlessly manage tasks with our
                                            property rental software. Stay organized and boost productivity in property
                                            management.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-3 col-xl-3 mb-5">
                            <div class="card h-100">
                                <div class="card-header" style="background-color: #1467B0;color: white;">
                                    <div class="card-title fw-bold">
                                        <a href="tasks-vendors.html" style="color: white;">Vendor</a>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="text-center chat-image mb-5">
                                        <div class="avatar avatar-xxl chat-profile mb-3 brround">
                                            <a class="" href="tasks-vendors.html">
                                                <img alt="avatar" src="../assets/images/icons/create-vendor.png" class="brround w-100 h-100">
                                            </a>
                                        </div>
                                        <div class="main-chat-msg-name">
                                            <a href="tasks-vendors.html">
                                                <h5 class="mb-1 text-dark fw-bold">Create New Vendors</h5>
                                            </a>
                                            <p class="text-default mt-0 mb-0 pt-0 fs-13">
                                                Effortlessly onboard vendors with
                                            our property rental software, streamlining property maintenance for
                                            landlords and property managers.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div
            class="modal fade"
            id="addModal"
            tabindex="-1"
            role="dialog"
        >
            <div class="modal-dialog modal-lg modal-dialog-scrollable" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="text-justify ps-2 border-model-line">
                            <h2 class="modal-title">Create
                                <strong class="color-primary">New Task</strong>
                            </h2>
                            <span class="">
                                The real power of tasks is keeping track of deadlines and having a
                            log of all work and communication related to the tasks for later reference.
                            </span>
                        </div>
                        <button
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                            id="top-close"
                        >
                            <span aria-hidden="true">
                                <i class="fi fi-rs-circle-xmark text-dark"></i>
                            </span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div
                            id="collapseOne"
                            class="accordion-collapse collapse show"
                            aria-labelledby="headingOne"
                            data-bs-parent="#accordionExample"
                        >
                            <form class="row g-3" enctype="multipart/form-data">
                                <div class="col-md-4">
                                    <label for="inputEmail4" class="form-label fw-bold">Task Name
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <input
                                        id="task"
                                        required
                                        class="form-control"
                                        placeholder="Enter task name"
                                        type="text"
                                        placeholder="Enter Task Name"
                                    >
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-4">
                                    <label for="inputState" class="form-label fw-bold">Related To
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <select
                                        required
                                        id="property"
                                        class="form-select form select2-show-search"
                                        placeholder="Enter Related To"
                                    >
                                        <option selected>Choose...</option>
                                    </select>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-4">
                                    <label for="inputState" class="form-label fw-bold">Unit
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <select
                                        required
                                        id="unit"
                                        class="form-select form select2-show-search"
                                        placeholder="Enter Related To"
                                    >
                                        <option selected>Choose...</option>
                                    </select>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-12">
                                    <label class="form-label fw-bold">Assign To (Optional)</label>
                                    <select
                                        multiple="multiple"
                                        multiple
                                        placeholder="Enter Assign To"
                                        class="hide-select"
                                        id="assignee"
                                    >
                                    
                                </select>
                                    <span class="text-danger d-none" id="vendor-span">Add assignee first!!</span>
                                    <br>
                                    
                                </div>
                                <div class="col-md-4">
                                    <label for="inputEmail4" class="form-label fw-bold">Due Date
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <input
                                        id="dueDate"
                                        class="form-control"
                                        required
                                        placeholder="MM/DD/YYYY"
                                        type="date"
                                        placeholder="Enter Due Date"
                                    >
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-4">
                                    <label for="inputState" class="form-label fw-bold">Status
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <select
                                        id="status"
                                        required
                                        class="form-select form select2-show-search"
                                        placeholder="Select Status"
                                    >
                                        <option selected>Choose...</option>
                                        <option value="not started">Not Started</option>
                                        <option value="in progress">In progress</option>
                                        <option value="completed">Completed</option>
                                    </select>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-4">
                                    <label for="inputState" class="form-label fw-bold">Priority
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <select
                                        id="priority"
                                        required
                                        class="form-select form select2-show-search"
                                        placeholder="Select Priority"
                                    >
                                        <option selected>Choose...</option>
                                        <option name="high">High</option>
                                        <option name="moderate">Moderate</option>
                                        <option name="low">Low</option>
                                    </select>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-12">
                                    <label class="form-label fw-bold">Notes (Optional)</label>
                                    <textarea
                                        id="notes"
                                        class="form-control mb-4"
                                        placeholder="Enter Your Description"
                                        rows="4"
                                    ></textarea>
                                </div>
                                <div class="col-md-12">
                                    <label class="form-label fw-bold">Media/ Files (Optional)</label>
                                    <div
                                        class="custom-file"
                                        style="border: 1px dashed #00000087;"
                                        ondrop="dropHandler(event);"
                                        ondragover="dragOverHandler(event);"
                                    >
                                        <input
                                            id="fileInput"
                                            type="file"
                                            name="media"
                                            class="custom-file-input form"
                                            accept=".pdf,application/pdf"
                                            aria-label="hello"
                                            multiple
                                        >
                                        <span className="d-none"></span>
                                        <label class="custom-file-label" for="fileInput">
                                            <i class="fi fi-rs-cloud-upload"></i>
                                            <div class="custom-file-text">
                                                <span>Upload Files here</span>
                                                <span>PDF file size no more than 5MB</span>
                                                <small class="text-danger d-none" id="count-text">Maximum number of files reached.</small>
                                                <small class="text-danger d-none" id="size-text">
                                                    File size exceeds 5MB
                                                limit.
                                                </small>
                                            </div>
                                        </label>
                                    </div>
                                    <div class="selected-files">
                                        <div class="file-grid"></div>
                                    </div>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="modal-footer d-flex justify-content-between">
                        <div class="d-flex">
                            
                            <label class="custom-control custom-checkbox">
                                <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    name="example-checkbox1"
                                    value=""
                                    checked=""
                                >
                                <span class="custom-control-label">Notify Assignee(s)</span>
                            </label>
                        </div>
                        <div class="">
                            <button class="btn btn-outline-default btn-pill button" data-bs-dismiss="modal" id="close">Close</button>
                            <a
                                href="javascript:void(0)"
                                class="btn text-light btn-pill button"
                                style="background-color:#1467B0;"
                                id="next"
                            >Next</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <div
            class="modal fade"
            id="infoModal_verify"
            tabindex="-1"
            role="dialog"
        >
            <div class="modal-dialog modal-dialog-centered text-center" role="document">
                <div class="modal-content modal-content-demo">
                    <div class="modal-body p-0">
                        <div class="card border p-0 pb-3" style="margin-bottom: 0rem">
                            <div class="card-body text-center">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    height="60"
                                    width="60"
                                    viewBox="0 0 24 24"
                                >
                                    <path fill="#fad383" d="M15.728,22H8.272a1.00014,1.00014,0,0,1-.707-.293l-5.272-5.272A1.00014,1.00014,0,0,1,2,15.728V8.272a1.00014,1.00014,0,0,1,.293-.707l5.272-5.272A1.00014,1.00014,0,0,1,8.272,2H15.728a1.00014,1.00014,0,0,1,.707.293l5.272,5.272A1.00014,1.00014,0,0,1,22,8.272V15.728a1.00014,1.00014,0,0,1-.293.707l-5.272,5.272A1.00014,1.00014,0,0,1,15.728,22Z"></path>
                                    <circle
                                        cx="12"
                                        cy="16"
                                        r="1"
                                        fill="#f7b731"
                                    ></circle>
                                    <path fill="#f7b731" d="M12,13a1,1,0,0,1-1-1V8a1,1,0,0,1,2,0v4A1,1,0,0,1,12,13Z"></path>
                                </svg>
                                <h4 class="h4 mb-0 mt-3 fw-bold">Info</h4>
                                <p class="card-text text-dark">Token code or Password not matched</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade"
            id="succesModal_verify"
            tabindex="-1"
            role="dialog"
        >
            <div class="modal-dialog modal-dialog-centered text-center" role="document">
                <div class="modal-content modal-content-demo">
                    <div class="modal-body p-0">
                        <div class="card border p-0 pb-3" style="margin-bottom: 0rem">
                            <div class="card-body text-center">
                                <span class="">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        height="60"
                                        width="60"
                                        viewBox="0 0 24 24"
                                    >
                                        <path fill="#13bfa6" d="M10.3125,16.09375a.99676.99676,0,0,1-.707-.293L6.793,12.98828A.99989.99989,0,0,1,8.207,11.57422l2.10547,2.10547L15.793,8.19922A.99989.99989,0,0,1,17.207,9.61328l-6.1875,6.1875A.99676.99676,0,0,1,10.3125,16.09375Z" opacity=".99"/>
                                        <path fill="#71d8c9" d="M12,2A10,10,0,1,0,22,12,10.01146,10.01146,0,0,0,12,2Zm5.207,7.61328-6.1875,6.1875a.99963.99963,0,0,1-1.41406,0L6.793,12.98828A.99989.99989,0,0,1,8.207,11.57422l2.10547,2.10547L15.793,8.19922A.99989.99989,0,0,1,17.207,9.61328Z"/>
                                    </svg>
                                </span>
                                <h4 class="h4 mb-0 mt-3 fw-bold">Success</h4>
                                <p class="card-text text-dark">Your Email has been verified</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div
            class="modal fade"
            id="myModal_edit"
            tabindex="-1"
            role="dialog"
        >
            <div class="modal-dialog modal-lg modal-dialog-scrollable" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="text-justify ps-2 border-model-line">
                            <h2 class="modal-title">Post an
                                <strong class="color-primary">Update</strong>
                            </h2>
                            <span class="">
                                The real power of tasks is keeping track of deadlines and having a
                            log of all work and communication related to the tasks for later reference.
                            </span>
                        </div>
                        <button
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                            id="top-close"
                        >
                            <span aria-hidden="true">
                                <i class="fi fi-rs-circle-xmark text-dark"></i>
                            </span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div
                            id="collapseOne_update"
                            class="accordion-collapse collapse show"
                            aria-labelledby="headingOne"
                            data-bs-parent="#accordionExample"
                        >
                            <form class="row g-3" enctype="multipart/form-data">
                                <div class="col-md-12">
                                    <label class="form-label fw-bold">Message (Optional)</label>
                                    <textarea
                                        class="form-control mb-4"
                                        placeholder="Sorry about that We will look into it."
                                        rows="4"
                                        placeholder="Enter Message"
                                        id="message"
                                    ></textarea>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-4">
                                    <label for="inputEmail4" class="form-label fw-bold">Task Name
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <input
                                        class="form-control"
                                        placeholder="Task name"
                                        type="text"
                                        placeholder="Enter Task Name"
                                        required
                                        id="taskName_update"
                                    >
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-4">
                                    <label for="inputState" class="form-label fw-bold">Related To
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <select
                                        required
                                        id="property_update"
                                        required
                                        class="form-select form select2-show-search"
                                        placeholder="Enter Related To"
                                    >
                                        <option selected>Choose...</option>
                                    </select>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-4">
                                    <label for="inputState" class="form-label fw-bold">Unit
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <select
                                        required
                                        id="unit_update"
                                        class="form-select form select2-show-search"
                                        placeholder="Enter Related To"
                                    >
                                        <option selected>Choose...</option>
                                    </select>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-4">
                                    <label for="inputEmail4" class="form-label fw-bold">Due Date
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <input
                                        class="form-control"
                                        required
                                        placeholder="MM/DD/YYYY"
                                        type="date"
                                        placeholder="Enter Due Date"
                                        id="dueDate_update"
                                    >
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-4">
                                    <label for="inputState" class="form-label fw-bold">Priority
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <select
                                        class="form-select form select2-show-search"
                                        required
                                        placeholder="Select Priority "
                                        id="priority_update"
                                    >
                                        <option selected>Choose...</option>
                                        <option name="high">High</option>
                                        <option name="moderate">Moderate</option>
                                        <option name="low">Low</option>
                                    </select>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-4">
                                    <label for="inputState" class="form-label fw-bold">Status
                                        <span class="text-danger"> *</span>
                                    </label>
                                    <select
                                        class="form-select form select2-show-search"
                                        required
                                        placeholder="Select Status"
                                        id="status_update"
                                    >
                                        <option selected>Choose...</option>
                                        <option value="not started">Not Started</option>
                                        <option value="in progress">In progress</option>
                                        <option value="completed">Completed</option>
                                    </select>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-12">
                                    <div class="form-group">
                                        <label class="form-label fw-bold">Assignee(s) (Optional)</label>
                                        <select
                                            class="form-control select2"
                                            data-placeholder="Choose Assignee"
                                            multiple
                                            placeholder="Select Assignee(s)"
                                            id="assignee_update"
                                        ></select>
                                    </div>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                                <div class="col-md-12">
                                    <label class="form-label fw-bold">Media/ Files (Optional)</label>
                                    <div
                                        class="custom-file"
                                        style="border: 1px dashed #00000087;"
                                        ondrop="dropHandler(event);"
                                        ondragover="dragOverHandler(event);"
                                    >
                                        <input
                                            id="fileInput_update"
                                            type="file"
                                            name="media"
                                            class="custom-file-input form"
                                            accept=".pdf,application/pdf"
                                            aria-label="hello"
                                            multiple
                                        >
                                        <span className="d-none"></span>
                                        <label class="custom-file-label" for="fileInput_update">
                                            <i class="fi fi-rs-cloud-upload"></i>
                                            <div class="custom-file-text">
                                                <span>Upload Files here</span>
                                                <span>PDF file size no more than 5MB</span>
                                                <small class="text-danger d-none" id="count-text">Maximum number of files reached.</small>
                                                <small class="text-danger d-none" id="size-text">
                                                    File size exceeds 5MB
                                                limit.
                                                </small>
                                            </div>
                                        </label>
                                    </div>
                                    <div class="selected-files">
                                        <div class="file-grid"></div>
                                    </div>
                                    <span class="text-danger d-none">This field is required!</span>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="modal-footer d-flex justify-content-between">
                        <div class="d-flex">
                            
                            <label class="custom-control custom-checkbox">
                                <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    name="example-checkbox1_update"
                                    value="option1"
                                    checked=""
                                >
                                <span class="custom-control-label">Notify Assignee(s)</span>
                            </label>
                        </div>
                        <div class="">
                            <button class="btn btn-outline-default btn-pill button" data-bs-dismiss="modal" id="close">Close</button>
                            <a
                                href="javascript:void(0)"
                                class="btn text-light btn-pill button"
                                style="background-color:#1467B0;"
                                id="save"
                            >Save</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade"
            id="infoModal"
            tabindex="-1"
            role="dialog"
        >
            <div class="modal-dialog modal-dialog-centered text-center" role="document">
                <div class="modal-content modal-content-demo">
                    <div class="modal-body p-0">
                        <div class="card border p-0 pb-3" style="margin-bottom: 0rem">
                            <div class="card-body text-center">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    height="60"
                                    width="60"
                                    viewBox="0 0 24 24"
                                >
                                    <path fill="#fad383" d="M15.728,22H8.272a1.00014,1.00014,0,0,1-.707-.293l-5.272-5.272A1.00014,1.00014,0,0,1,2,15.728V8.272a1.00014,1.00014,0,0,1,.293-.707l5.272-5.272A1.00014,1.00014,0,0,1,8.272,2H15.728a1.00014,1.00014,0,0,1,.707.293l5.272,5.272A1.00014,1.00014,0,0,1,22,8.272V15.728a1.00014,1.00014,0,0,1-.293.707l-5.272,5.272A1.00014,1.00014,0,0,1,15.728,22Z"></path>
                                    <circle
                                        cx="12"
                                        cy="16"
                                        r="1"
                                        fill="#f7b731"
                                    ></circle>
                                    <path fill="#f7b731" d="M12,13a1,1,0,0,1-1-1V8a1,1,0,0,1,2,0v4A1,1,0,0,1,12,13Z"></path>
                                </svg>
                                <h4 class="h4 mb-0 mt-3 fw-bold">Info</h4>
                                <p class="card-text text-dark">Task Already Exist</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade"
            id="succesModal"
            tabindex="-1"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content success-modal-content">
                    <div class="modal-header">
                        <button
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                            id="succes-close"
                        >
                            <span aria-hidden="true">
                                <i class="fi fi-rs-circle-xmark text-dark"></i>
                            </span>
                        </button>
                    </div>
                    <div class="modal-body succes-modal" style="padding-top: 70px;padding-bottom: 70px;">
                        <div class="text-justify ps-2 border-model-line">
                            <h2 class="modal-title d-flex align-items-center ps-1">
                                <strong class="color-primary">Success!&nbsp;</strong>
                                <i class="fi fi-rs-check-circle text-success"></i>
                            </h2>
                            <p class="ms-2 mb-0 text-start">Your task has been successfully added.</p>
                            <a
                                data-bs-effect="effect-scale"
                                data-bs-toggle="modal"
                                href="#addModal"
                                class="btn btn-outline-default btn-pill ms-1 my-2"
                                style="background-color:#1467B0;color: white;"
                            >
                                <i class="fi fi-rs-pencil"></i>
                                ADD NEW
                            TASK
                            </a>
                            <a class="btn btn-outline-default btn-pill button" data-bs-dismiss="modal">
                                Close
                            </a>
                        </div>
                    </div>
                    <div class="modal-footer" style="border-top: 0"></div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="myModal_delete">
            <div class="modal-dialog modal-dialog-centered text-center" role="document">
                <div class="modal-content modal-content-demo">
                    <div class="modal-body p-0">
                        <div class="card border p-0 pb-3" style="margin-bottom: 0rem;">
                            <div class="card-header border-0 pt-3">
                                <button class="btn-close del" data-bs-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">
                                        <i class="fi fi-rs-circle-xmark text-dark"></i>
                                    </span>
                                </button>
                            </div>
                            <div class="card-body text-center">
                                <span class="">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        height="60"
                                        width="60"
                                        viewBox="0 0 24 24"
                                    >
                                        <path fill="#f07f8f" d="M20.05713,22H3.94287A3.02288,3.02288,0,0,1,1.3252,17.46631L9.38232,3.51123a3.02272,3.02272,0,0,1,5.23536,0L22.6748,17.46631A3.02288,3.02288,0,0,1,20.05713,22Z"/>
                                        <circle
                                            cx="12"
                                            cy="17"
                                            r="1"
                                            fill="#e62a45"
                                        />
                                        <path fill="#e62a45" d="M12,14a1,1,0,0,1-1-1V9a1,1,0,0,1,2,0v4A1,1,0,0,1,12,14Z"/>
                                    </svg>
                                </span>
                                <h4 class="h4 mb-0 mt-3 fw-bold fs-4">Warning</h4>
                                <p class="card-text">This will delete your task. Are you sure?</p>
                            </div>
                            <div class="card-footer text-center border-0 pt-0">
                                <div class="row">
                                    <div class="text-center">
                                        <a
                                            href="javascript:void(0)"
                                            class="btn btn-white me-2"
                                            data-bs-dismiss="modal"
                                            aria-label="Close"
                                        >Cancel</a>
                                        <a href="javascript:void(0)" class="btn btn-danger" id="confirmDelete">Delete</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div
        class="modal fade"
        id="myModal_warning_connection"
        tabindex="-1"
        role="dialog"
    >
        <div class="modal-dialog modal-dialog-centered text-center" role="document">
            <div class="modal-content modal-content-demo">
                <div class="modal-body p-0">
                    <div class="card border p-0 pb-3" style="margin-bottom: 0rem;">
                        <div class="card-body text-center">
                            <span class="">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    height="60"
                                    width="60"
                                    viewBox="0 0 24 24"
                                >
                                    <path fill="#fad383" d="M15.728,22H8.272a1.00014,1.00014,0,0,1-.707-.293l-5.272-5.272A1.00014,1.00014,0,0,1,2,15.728V8.272a1.00014,1.00014,0,0,1,.293-.707l5.272-5.272A1.00014,1.00014,0,0,1,8.272,2H15.728a1.00014,1.00014,0,0,1,.707.293l5.272,5.272A1.00014,1.00014,0,0,1,22,8.272V15.728a1.00014,1.00014,0,0,1-.293.707l-5.272,5.272A1.00014,1.00014,0,0,1,15.728,22Z"/>
                                    <circle
                                        cx="12"
                                        cy="16"
                                        r="1"
                                        fill="#f7b731"
                                    />
                                    <path fill="#f7b731" d="M12,13a1,1,0,0,1-1-1V8a1,1,0,0,1,2,0v4A1,1,0,0,1,12,13Z"/>
                                </svg>
                            </span>
                            <h4 class="h4 mb-0 mt-3 fw-bold">Warning</h4>
                            <p class="card-text text-dark m-0">Sorry! Something went wrong.</p>
                            <p class="card-text text-dark m-0">
                                Kindly check your internet connection or please try again
                            later.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <div class="page">
            <div class="page-main">
                <div class="app-header header sticky" id="navbar-placeholder">
                    <div class="container-fluid main-container">
                        <div class="d-flex justify-content-between align-items-center">
                            <a
                                aria-label="Hide Sidebar"
                                class="app-sidebar__toggle"
                                data-bs-toggle="sidebar"
                                href="javascript:void(0)"
                            ></a>
                            <a class="logo-horizontal " href="index.html">
                                <img src="../assets/images/logo_white.png" class="header-brand-img desktop-logo" alt="logo">
                                <img src="../assets/images/Artboard GÇô 1.svg" class="header-brand-img light-logo1" alt="logo">
                            </a>
                            <span class="span_upgrade_now text-center text-dark">Your Trail plan will expire in
                                <span class="plan_remaining_days_data">20 Days</span>.&nbsp;&nbsp;
                                <a href="./settings.html#tab9" class="btn btn-primary btn-pill btn-sm">
                                    <img
                                        src="../assets/images/starImg.png"
                                        class="me-2"
                                        style="width: 22px;"
                                        alt=""
                                    >Upgrade Now
                                </a>
                            </span>
                            <div class="d-flex order-lg-2 header-right-icons">
                                <button
                                    class="navbar-toggler navresponsive-toggler d-lg-none ms-auto"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#navbarSupportedContent-4"
                                    aria-controls="navbarSupportedContent-4"
                                    aria-expanded="false"
                                    aria-label="Toggle navigation"
                                >
                                    <span class="navbar-toggler-icon fe fe-more-vertical"></span>
                                </button>
                                <div class="navbar navbar-collapse responsive-navbar p-0">
                                    <div class="collapse navbar-collapse" id="navbarSupportedContent-4">
                                        <div class="d-flex order-lg-2">
                                            <div class="d-flex country mt-2">
                                                <a class="nav-link icon theme-layout nav-link-bg layout-setting">
                                                    <span class="dark-layout text-dark">
                                                        <i class="fi fi-rs-moon"></i>
                                                    </span>
                                                    <span class="light-layout">
                                                        <i class="fi fi-rs-brightness"></i>
                                                    </span>
                                                </a>
                                            </div>
                                            <div class="d-flex country mt-2">
                                                <a class="nav-link icon text-dark customIntercomButton">
                                                    <i class="fi fi-rs-interrogation"></i>
                                                </a>
                                            </div>
                                            <div class="dropdown  d-flex notifications">
                                                <a class="nav-link icon" data-bs-toggle="sidebar-right" data-target=".sidebar-right">
                                                    <i class="fe fe-bell"></i>
                                                    <span class="badge bg-secondary header-badge bg-primary" id="count_unread"></span>
                                                </a>
                                            </div>
                                            <div class="d-flex country">
                                                <div style="width: 58px;height: 58px;" class="profileImage avatarr profile-user brroundd nav-link cover-image fs-20 ms-5"></div>
                                        </div>
                                            <div class="d-flex country">
                                                <img id="user-img-dark" src="../assets/images/icons/Group 34343434.png" class="avatarr profile-user brroundd nav-link cover-image dark-layout">
                                            </div>
                                            <div class="d-flex country">
                                                <img id="user-img" src="../assets/images/icons/Group 34343434.png" class="avatarr profile-user nav-link brroundd cover-image light-layout">
                                            </div>
                                            <div class="dropdown d-flex profile-1 country">
                                                <a href="javascript:void(0)" data-bs-toggle="dropdown" class="nav-link leading-none d-flex">
                                                    <span class="dynamic-text-head text-dark" style="padding: 10px 10px;" id="header-user"></span>
                                                    <i class="fe fe-chevron-down dark-mode text-dark" style="font-size: 20px; font-weight: 800;"></i>
                                                </a>
                                                <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                                                    <a class="dropdown-item" href="settings.html">
                                                        <i class="dropdown-icon fe fe-settings"></i>
                                                        Settings
                                                    </a>
                                                    <a class="dropdown-item" onclick="logout()" style="cursor: pointer;">
                                                        <i class="dropdown-icon fe fe-alert-circle"></i>
                                                        Sign out
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="sticky" id="sidebar-placeholder">
                    <div class="app-sidebar__overlay" data-bs-toggle="sidebar"></div>
                    <div class="app-sidebar">
                        <div class="side-header">
                            <a class="header-brand1" href="index.html">
                                <img src="../assets/images/logo_white.png" class="header-brand-img desktop-logo" alt="logo">
                                <img src="../assets/images/logo_loginmodule.png" class="header-brand-img toggle-logo" alt="logo">
                                <img src="../assets/images/logo_loginmodule.png" class="header-brand-img light-logo" alt="logo">
                                <img src="../assets/images/Artboard GÇô 1.svg" class="header-brand-img light-logo1" alt="logo">
                            </a>
                        </div>
                        <div class="main-sidemenu">
                            <div class="slide-left disabled" id="slide-left">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="#7b8191"
                                    width="24"
                                    height="24"
                                    viewBox="0 0 24 24"
                                >
                                    <path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"/>
                                </svg>
                            </div>
                            <ul class="side-menu">
                                <li class="sub-category">
                                    </li>
                                <li class="slide">
                                    <a
                                        class="side-menu__item has-link create-new-link"
                                        data-bs-toggle="offcanvas"
                                        href="#offcanvasExample"
                                        role="button"
                                        aria-controls="offcanvasExample"
                                        style="border: 3px solid #1467B0 !important;"
                                    >
                                        <i class="side-menu__icon fi fi-rs-square-plus"></i>
                                        <span class="side-menu__label ">Create New</span>
                                    </a>
                                </li>
                                <a href="settings.html" class="text-dark">
                                    <li class="slide">
                                        <div class="M-0 mt-3 mb-4 sidebar-count-box" style="box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;">
                                            <div class="card-header pb-0 border-bottom-0">
                                                <i class="side-menu__icon fi fi-rs-rocket-lunch mb-0"></i>
                                                <h3 class="card-title side-menu__label">
                                                    &nbsp; Complete your Profile
                                                </h3>
                                            </div>
                                            <div class="card-body pt-0">
                                                <div class="side-menu__label progress progress-md mt-5">
                                                    </div>
                                            </div>
                                        </div>
                                    </li>
                                </a>
                                <li class="slide">
                                    <a class="side-menu__item has-link" data-bs-toggle="slide" href="index.html">
                                        <i class="side-menu__icon fi fi-rs-dashboard"></i>
                                        <span class="side-menu__label">Overview</span>
                                    </a>
                                </li>
                                <li class="slide">
                                    <a class="side-menu__item has-link" data-bs-toggle="slide" href="properties-all.html">
                                        <i class="side-menu__icon fi fi-rs-building"></i>
                                        <span class="side-menu__label">Properties</span>
                                    </a>
                                </li>
                                <li class="slide card-demo-2">
                                    <a class="side-menu__item has-link" data-bs-toggle="slide" href="add-tenant.html">
                                        <i class="side-menu__icon fi fi-rs-home-location-alt"></i>
                                        <span class="side-menu__label">Tenants</span>
                                    </a>
                                </li>
                                <li class="slide card-demo-3">
                                    <a class="side-menu__item has-link" data-bs-toggle="slide" href="create-invoicing.html">
                                        <i class="side-menu__icon fi fi-rs-file-invoice-dollar"></i>
                                        <span class="side-menu__label">Invoicing</span>
                                    </a>
                                </li>
                                <li class="slide card-demo-4">
                                    <a class="side-menu__item" data-bs-toggle="slide" href="prospects.html">
                                        <i class="side-menu__icon fi fi-rs-chart-simple"></i>
                                        <span class="side-menu__label">Prospects</span>
                                    </a>
                                </li>
                                <li class="slide">
                                    <a class="side-menu__item" data-bs-toggle="slide" href="view-tasks.html">
                                        <i class="side-menu__icon fi fi-rs-list-check"></i>
                                        <span class="side-menu__label">Tasks</span>
                                        <i class="angle fe fe-chevron-right"></i>
                                    </a>
                                    <ul class="slide-menu">
                                        <li class="side-menu-label1">
                                            <a href="javascript:void(0)">Tasks</a>
                                        </li>
                                        <li>
                                            <a href="create-tasks.html" class="slide-item">All</a>
                                        </li><li>
                                            <a href="user-tasks.html" class="slide-item">Tasks</a>
                                        </li>
                                        <li>
                                            <a href="maintenance-requests.html" class="slide-item">Maintainance Request</a>
                                        </li>
                                        
                                        <li>
                                            <a href="tasks-requests.html" class="slide-item">Requests</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="slide">
                                    <a class="side-menu__item" data-bs-toggle="slide" href="tasks-vendors.html">
                                        <i class="side-menu__icon fi fi-rs-users"></i>
                                        <span class="side-menu__label">Vendors</span>
                                    </a>
                                </li>
                                <li class="slide">
                                    <a class="side-menu__item" data-bs-toggle="slide" href="reports.html">
                                        <i class="side-menu__icon fi fi-rs-document"></i>
                                        <span class="side-menu__label">Reports</span>
                                    </a>
                                </li>
                                <li class="slide">
                                    <a class="side-menu__item" data-bs-toggle="slide" href="chats.html">
                                        <i class="side-menu__icon fi fi-rs-comment"></i>
                                        <span class="side-menu__label">Chat</span>
                                        <span class="badge bg-primary side-badge" id="chatCounter"></span>
                                    </a>
                                </li>
                                <li>
                                    <a class="side-menu__item has-link" href="settings.html" target="_self">
                                        <i class="side-menu__icon fi fi-rs-settings"></i>
                                        <span class="side-menu__label">Settings</span>
                                    </a>
                                </li>
                            </ul>
                            <div class="slide-right" id="slide-right">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="#7b8191"
                                    width="24"
                                    height="24"
                                    viewBox="0 0 24 24"
                                >
                                    <path d="M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="main-content app-content mt-0">
                    <div class="side-app">
                        <div class="main-container container-fluid">
                            <div class="card mt-5" style="background: linear-gradient(180deg, #232323 0%, #434343 100%);">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-lg-9">
                                            <h3 class="page-titlee text-white" style="font-weight: 100; margin-bottom: 0px;">Welcome to Spade Portal</h3>
                                            <h1 class="page-titlee text-white" style="font-weight: 700;" id="user-name"></h1>
                                        </div>
                                        <div class="col-lg-3">
                                            <img src="../assets/header-img/Group1.png" alt="">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="responsive-img-scroll">
                                <p class="d-inline-flex gap-1 bg-img-mainn">
                                    <span>Tasks |</span>
                                    <span>
                                        <a href="#" onclick="Intercom('showArticle', 8210444)">
                                            <b>Need help?</b>
                                        </a>
                                    </span>
                                </p>
                            </div>
                            <div class="row span_upgrade_now_div">
                                <div class="col-12">
                                    <div class="upgrade_planing">
                                        <div class="row">
                                            <div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 text-center">
                                                <span class="fw-bold text-black m-2">Your Trial will expire in
                                                    <br>
                                                    <span class="text-primary fs-30 plan_remaining_days_data">30 Days</span>
                                                </span>
                                            </div>
                                            <div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 text-center d-flex justify-content-center align-items-center">
                                                <div class="m-2">
                                                    <span>
                                                        <a href="./settings.html#tab9" class="btn btn-primary btn-pill btn-lg">
                                                            <img
                                                                src="../assets/images/starImg.png"
                                                                class="me-2"
                                                                style="width: 25px;"
                                                                alt=""
                                                            >Upgrade Now
                                                        </a>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="over_view" id="Overview">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="card inner-cards">
                                            <div class="card-header justify-content-between">
                                                <div class="d-flex">
                                                    <div class="btn-group">
                                                        <button
                                                            type="button"
                                                            class="btn btn-outline-default text-dark py-1"
                                                            id="filter_btn"
                                                            data-bs-toggle="dropdown"
                                                            aria-expanded="true"
                                                        >
                                                            <i class="typcn typcn-filter me-2 fs-16"></i>
                                                            <strong>Sort</strong>
                                                        </button>
                                                        <ul
                                                            class="dropdown-menu"
                                                            role="menu"
                                                            style="position: absolute; inset: 0px auto auto 0px; margin: 0px; transform: translate3d(0px, 41px, 0px);"
                                                            data-popper-placement="bottom-start"
                                                        >
                                                            <li>
                                                                <a href="javascript:void(0)">
                                                                    <strong class="text-dark">
                                                                        Sort
                                                                    by:
                                                                    </strong>
                                                                </a>
                                                            </li>
                                                            <li class="d-flex justify-content-between">
                                                                <a href="javascript:void(0)" style="cursor: context-menu;" class="text-dark">
                                                                    A-Z
                                                                Alphabets
                                                                </a>
                                                                <div class="form-check m-0">
                                                                    <input
                                                                        class="form-check-input mt-2"
                                                                        type="radio"
                                                                        name="exampleRadios"
                                                                        id="alphabets"
                                                                        value="option1"
                                                                    >
                                                                </div>
                                                            </li>
                                                            <li class="d-flex justify-content-between">
                                                                <a href="javascript:void(0)" style="cursor: context-menu;" class="text-dark">Ascending</a>
                                                                <div class="form-check m-0">
                                                                    <input
                                                                        class="form-check-input mt-2"
                                                                        type="radio"
                                                                        name="exampleRadios"
                                                                        id="ascending"
                                                                        value="option1"
                                                                    >
                                                                </div>
                                                            </li>
                                                            <li class="d-flex justify-content-between">
                                                                <a href="javascript:void(0)" style="cursor: context-menu;" class="text-dark">Descending</a>
                                                                <div class="form-check m-0">
                                                                    <input
                                                                        class="form-check-input mt-2"
                                                                        type="radio"
                                                                        name="exampleRadios"
                                                                        id="descending"
                                                                        value="option1"
                                                                    >
                                                                </div>
                                                            </li>
                                                            <li class="d-flex justify-content-between">
                                                                <a href="javascript:void(0)" style="cursor: context-menu;" class="text-dark">
                                                                    Recently
                                                                Added
                                                                </a>
                                                                <div class="form-check m-0">
                                                                    <input
                                                                        class="form-check-input mt-2"
                                                                        id="created-at"
                                                                        type="radio"
                                                                        name="exampleRadios"
                                                                        value="option1"
                                                                    >
                                                                </div>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="d-flex">
                                                    <div class="btn-group">
                                                        <button
                                                            type="button"
                                                            class="btn font-weight-bold text-dark"
                                                            id="customize_btn"
                                                            data-bs-toggle="dropdown"
                                                            style="border: none;"
                                                        >
                                                            <strong>FILTER</strong>
                                                            <i class="fe fe-chevron-down ms-2"></i>
                                                        </button>
                                                        <ul class="dropdown-menu" role="menu">
                                                            <li>
                                                                <a href="javascript:void(0)">
                                                                    <strong class="text-dark">
                                                                        Columns to
                                                                    Show
                                                                    </strong>
                                                                </a>
                                                            </li>
                                                            <li class="d-flex justify-content-between">
                                                                <a class="text-dark" href="javascript:void(0)">ID</a>
                                                                <div class="form-check m-0">
                                                                    <input
                                                                        type="checkbox"
                                                                        class="form-check-input mt-2"
                                                                        id="exampleCheck1"
                                                                        checked
                                                                    >
                                                                </div>
                                                            </li>
                                                            <li class="d-flex justify-content-between">
                                                                <a class="text-dark" href="javascript:void(0)">IMAGE</a>
                                                                <div class="form-check m-0">
                                                                    <input
                                                                        type="checkbox"
                                                                        class="form-check-input mt-2"
                                                                        id="exampleCheck1"
                                                                        checked
                                                                    >
                                                                </div>
                                                            </li>
                                                            <li class="d-flex justify-content-between">
                                                                <a class="text-dark" href="javascript:void(0)">TASK</a>
                                                                <div class="form-check m-0">
                                                                    <input
                                                                        type="checkbox"
                                                                        class="form-check-input mt-2"
                                                                        id="exampleCheck1"
                                                                        checked
                                                                    >
                                                                </div>
                                                            </li>
                                                            <li class="d-flex justify-content-between">
                                                                <a class="text-dark" href="javascript:void(0)">ASSIGNED TO</a>
                                                                <div class="form-check m-0">
                                                                    <input
                                                                        type="checkbox"
                                                                        class="form-check-input mt-2"
                                                                        id="exampleCheck1"
                                                                        checked
                                                                    >
                                                                </div>
                                                            </li>
                                                            <li class="d-flex justify-content-between">
                                                                <a class="text-dark" href="javascript:void(0)">DUE AT</a>
                                                                <div class="form-check m-0">
                                                                    <input
                                                                        type="checkbox"
                                                                        class="form-check-input mt-2"
                                                                        id="exampleCheck1"
                                                                        checked
                                                                    >
                                                                </div>
                                                            </li>
                                                            <li class="d-flex justify-content-between">
                                                                <a class="text-dark" href="javascript:void(0)">RELATED TO</a>
                                                                <div class="form-check m-0">
                                                                    <input
                                                                        type="checkbox"
                                                                        class="form-check-input mt-2"
                                                                        id="exampleCheck1"
                                                                        checked
                                                                    >
                                                                </div>
                                                            </li>
                                                            <li class="d-flex justify-content-between">
                                                                <a class="text-dark" href="javascript:void(0)">STATUS</a>
                                                                <div class="form-check m-0">
                                                                    <input
                                                                        type="checkbox"
                                                                        class="form-check-input mt-2"
                                                                        id="exampleCheck1"
                                                                        checked
                                                                    >
                                                                </div>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    
                                                    
                                                    <button
                                                            type="button"
                                                            class="btn btn-primary btn-pill mx-2 laptop-button"
                                                            data-bs-effect="effect-scale"
                                                        data-bs-toggle="modal"
                                                        id="add_property_btn"
                                                        href="#addModal"
                                                        >
                                                        <i class="fe fe-plus me-2"></i>
                                                            <strong>ADD NEW TASK</strong>
                                                        </button>
                                                        
                                                </div>
                                            </div>
                                            <div class="card-body p-0">
                                                <div class="pe-5 ps-5 pt-3 pb-3 d-flex justify-content-between">
                                                    <div>
                                                        <div class="main-header-center position-relative d-lg-block m-0">
                                                            <button class="btn px-0 pt-2">
                                                                <i class="fe fe-search" aria-hidden="true"></i>
                                                            </button>
                                                            <input
                                                                class="form-control search-input-field"
                                                                placeholder="Search"
                                                                type="text"
                                                                id="search_input"
                                                            >
                                                        </div>
                                                    </div>
                                                    <div style="width: 220px" class="d-flex justify-content-end align-items-center">
                                                        <span class="fw-bold me-2 mobile-text-hide-filer-number">
                                                            Number of
                                                        rows
                                                        </span>
                                                        <select id="lengthSelectBox" class="form-control form-select" style="width: 80px;">
                                                            <option value="10">10</option>
                                                            <option value="25">25</option>
                                                            <option value="100">100</option>
                                                            <option value="200">200</option>
                                                            <option value="500">500</option>
                                                            <option value="999999999">All</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="table-responsive">
                                                    <table class="table-hover table border text-nowrap text-md-nowrap mb-0 p-0 w-100" id="responsive-datatable">
                                                        <thead>
                                                            <tr>
                                                                <th>#</th>
                                                                <th>ID</th>
                                                                <th>Image</th>
                                                                <th>TASK</th>
                                                                <th>ASSIGNED TO</th>
                                                                <th>DUE AT</th>
                                                                <th>RELATED TO</th>
                                                                <th>STATUS</th>
                                                                <th>ACTION</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="table_body"></tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-body pb-0 bg-recentorder" style="display: none;">
                        <h3 class="card-title text-white">Recent Orders</h3>
                        <div class="chartjs-wrapper-demo">
                            <canvas id="recentorders" class="chart-dropshadow"></canvas>
                        </div>
                    </div>
                    <div id="flotback-chart" class="flot-background" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="sidebar sidebar-right sidebar-animate">
        <div class="panel panel-primary card mb-0 shadow-none border-0">
            <div class="tab-menu-heading border-0 d-flex p-3">
                <div class="card-title mb-0 text-dark fw-bold">
                    Notifications
                    <a href="javascript:void(0);" class="text-primary text-decoration-underline " id="updateAllNotifyRead">
                        Mark all
                        as read
                    </a>
                </div>
                <div class="card-options ms-auto">
                    <a
                        href="javascript:void(0);"
                        class="sidebar-icon text-end float-end me-3 mb-1"
                        data-bs-toggle="sidebar-right"
                        data-target=".sidebar-right"
                    >
                        <i class="fe fe-x text-dark"></i>
                    </a>
                </div>
            </div>
            <div class="panel-body tabs-menu-body latest-tasks p-0 border-0">
                <div class="tabs-menu border-bottom">
                    <ul class="nav panel-tabs">
                        <li>
                            <a href="#side1" data-bs-toggle="tab" class="text-dark active">All
                                <span class="all_span"></span>
                            </a>
                        </li>
                        <li>
                            <a href="#side2" data-bs-toggle="tab" class="text-dark">Inbox
                                <span class="inbox_span"></span>
                            </a>
                        </li>
                        <li>
                            <a href="#side3" data-bs-toggle="tab" class="text-dark">Unread
                                <span class="Unread_span"></span>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="tab-content">
                    <div class="tab-pane active" id="side1">
                        <div class="list-group list-group-flush" id="notification-container"></div>
                    </div>
                    <div class="tab-pane " id="side2">
                        <div class="list-group list-group-flush" id="inbox-notification-container"></div>
                    </div>
                    <div class="tab-pane " id="side3">
                        <div class="list-group list-group-flush" id="unread-notification-container"></div>
                    </div>
                    <div class="tab-pane " id="side4">
                        <div class="list-group list-group-flush" id="Archieve-notification-container"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="country-selector">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content country-select-modal">
                <div class="modal-header">
                    <h6 class="modal-title">Choose Country</h6>
                    <button
                        aria-label="Close"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        type="button"
                    >
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <ul class="row p-3">
                        <li class="col-lg-6 mb-2">
                            <a href="javascript:void(0)" class="btn btn-country btn-lg btn-block active">
                                <span class="country-selector">
                                    <img alt="" src="../assets/images/flags/us_flag.jpg" class="me-3 language">
                                </span>
                                USA
                            </a>
                        </li>
                        <li class="col-lg-6 mb-2">
                            <a href="javascript:void(0)" class="btn btn-country btn-lg btn-block">
                                <span class="country-selector">
                                    <img alt="" src="../assets/images/flags/italy_flag.jpg" class="me-3 language">
                                </span>
                                Italy
                            </a>
                        </li>
                        <li class="col-lg-6 mb-2">
                            <a href="javascript:void(0)" class="btn btn-country btn-lg btn-block">
                                <span class="country-selector">
                                    <img alt="" src="../assets/images/flags/spain_flag.jpg" class="me-3 language">
                                </span>
                                Spain
                            </a>
                        </li>
                        <li class="col-lg-6 mb-2">
                            <a href="javascript:void(0)" class="btn btn-country btn-lg btn-block">
                                <span class="country-selector">
                                    <img alt="" src="../assets/images/flags/india_flag.jpg" class="me-3 language">
                                </span>
                                India
                            </a>
                        </li>
                        <li class="col-lg-6 mb-2">
                            <a href="javascript:void(0)" class="btn btn-country btn-lg btn-block">
                                <span class="country-selector">
                                    <img alt="" src="../assets/images/flags/french_flag.jpg" class="me-3 language">
                                </span>
                                French
                            </a>
                        </li>
                        <li class="col-lg-6 mb-2">
                            <a href="javascript:void(0)" class="btn btn-country btn-lg btn-block">
                                <span class="country-selector">
                                    <img alt="" src="../assets/images/flags/russia_flag.jpg" class="me-3 language">
                                </span>
                                Russia
                            </a>
                        </li>
                        <li class="col-lg-6 mb-2">
                            <a href="javascript:void(0)" class="btn btn-country btn-lg btn-block">
                                <span class="country-selector">
                                    <img alt="" src="../assets/images/flags/germany_flag.jpg" class="me-3 language">
                                </span>
                                Germany
                            </a>
                        </li>
                        <li class="col-lg-6 mb-2">
                            <a href="javascript:void(0)" class="btn btn-country btn-lg btn-block">
                                <span class="country-selector">
                                    <img alt="" src="../assets/images/flags/argentina.jpg" class="me-3 language">
                                </span>
                                Argentina
                            </a>
                        </li>
                        <li class="col-lg-6 mb-2">
                            <a href="javascript:void(0)" class="btn btn-country btn-lg btn-block">
                                <span class="country-selector">
                                    <img alt="" src="../assets/images/flags/malaysia.jpg" class="me-3 language">
                                </span>
                                Malaysia
                            </a>
                        </li>
                        <li class="col-lg-6 mb-2">
                            <a href="javascript:void(0)" class="btn btn-country btn-lg btn-block">
                                <span class="country-selector">
                                    <img alt="" src="../assets/images/flags/turkey.jpg" class="me-3 language">
                                </span>
                                Turkey
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <div class="row align-items-center flex-row-reverse">
                <div class="col-md-12 col-sm-12 text-center">
                    Copyright ©
                    <a href="javascript:void(0)">Spade, LLC.</a>
                    <span id="year"></span>
                </div>
            </div>
        </div>
    </footer>
</div>
<a
    href="#addModal"
    data-bs-effect="effect-scale"
    data-bs-toggle="modal"
    id="add-tenant-side-btn"
>
    <i class="fe fe-plus"></i>
</a>
<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/plugins/bootstrap/js/popper.min.js"></script>
<script src="../assets/plugins/bootstrap/js/bootstrap.min.js"></script>
<script src="../assets/plugins/select2/select2.full.min.js"></script>
<script src="../assets/js/select2.js"></script>
<script>
        $(document).ready(function () {
            $('#addModal').on('shown.bs.modal', function () {
                $('.select2-show-search').select2({
                    dropdownParent: $('#addModal')
                });
            });
            $('#myModal_edit').on('shown.bs.modal', function () {
                $('.select2-show-search').select2({
                    dropdownParent: $('#myModal_edit')
                });
            });
        });
</script>
<script src="../assets/js/jquery.sparkline.min.js"></script>
<script src="../assets/js/sticky.js"></script>
<script src="../assets/js/circle-progress.min.js"></script>
<script src="../assets/plugins/peitychart/jquery.peity.min.js"></script>
<script src="../assets/plugins/peitychart/peitychart.init.js"></script>
<script src="../assets/plugins/sidebar/sidebar.js"></script>
<script src="../assets/plugins/p-scroll/perfect-scrollbar.js"></script>
<script src="../assets/plugins/p-scroll/pscroll.js"></script>
<script src="../assets/plugins/p-scroll/pscroll-1.js"></script>
<script src="../assets/plugins/chart/Chart.bundle.js"></script>
<script src="../assets/plugins/chart/rounded-barchart.js"></script>
<script src="../assets/plugins/chart/utils.js"></script>
<script src="../assets/plugins/datatable/js/jquery.dataTables.min.js"></script>
<script src="../assets/plugins/datatable/js/dataTables.bootstrap5.js"></script>
<script src="../assets/plugins/datatable/dataTables.responsive.min.js"></script>
<script src="../assets/js/apexcharts.js"></script>
<script src="../assets/plugins/apexchart/irregular-data-series.js"></script>
<script src="../assets/plugins/flot/jquery.flot.js"></script>
<script src="../assets/plugins/flot/jquery.flot.fillbetween.js"></script>
<script src="../assets/plugins/flot/chart.flot.sampledata.js"></script>
<script src="../assets/plugins/flot/dashboard.sampledata.js"></script>
<script src="../assets/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
<script src="../assets/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<script src="../assets/plugins/sidemenu/sidemenu.js"></script>
<script src="../assets/plugins/bootstrap5-typehead/autocomplete.js"></script>
<script src="../assets/js/typehead.js"></script>
<script src="../assets/js/index1.js"></script>
<script src="../assets/js/themeColors.js"></script>
<script src="../assets/plugins/extension-datatable/autofill/autoFill.bootstrap5.min.js"></script>
<script src="../assets/js/autofill-table.js"></script>
<script src="../assets/plugins/charts-c3/d3.v5.min.js"></script>
<script src="../assets/plugins/charts-c3/c3-chart.js"></script>
<script src="../assets/plugins/input-mask/jquery.mask.min.js"></script>
<script src="../assets/plugins/chart/Chart.bundle.js"></script>
<script src="../assets/plugins/chart/utils.js"></script>
<script src="../assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
<script src="../assets/plugins/bootstrap-daterangepicker/moment.min.js"></script>
<script src="../assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
<script src="../assets/plugins/bootstrap-datepicker/bootstrap-datepicker.js"></script>
<script src="../assets/plugins/sumoselect/jquery.sumoselect.js"></script>
<script src="../assets/plugins/time-picker/jquery.timepicker.js"></script>
<script src="../assets/plugins/time-picker/toggles.min.js"></script>
<script src="../assets/plugins/intl-tel-input-master/intlTelInput.js"></script>
<script src="../assets/plugins/intl-tel-input-master/country-select.js"></script>
<script src="../assets/plugins/intl-tel-input-master/utils.js"></script>
<script src="../assets/plugins/jQuerytransfer/jquery.transfer.js"></script>
<script src="../assets/plugins/multi/multi.min.js"></script>
<script src="../assets/plugins/date-picker/date-picker.js"></script>
<script src="../assets/plugins/date-picker/jquery-ui.js"></script>
<script src="../assets/plugins/input-mask/jquery.maskedinput.js"></script>
<script src="../assets/plugins/pickr-master/pickr.es5.min.js"></script>
<script src="../assets/js/picker.js"></script>
<script src="../assets/plugins/multipleselect/multiple-select.js"></script>
<script src="../assets/plugins/multipleselect/multi-select.js"></script>
<script src="../assets/js/formelementadvnced.js"></script>
<script src="../assets/js/form-elements.js"></script>
<script src="../assets/js/pricing-plan.js"></script>
<script src="../assets/js/charts.js"></script>
<script>
        $(document).ready(function () {
            $.ajax({
                url: 'https://backend.app.spaderent.com/api/spade/getMessagesCountLandlord',
                method: 'GET',
                headers: {
                    'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                },
                success: function (response) {
                    // console.log("getMessagesCountLandlord");
                    // console.log(response.Count['count(message)']);
                    $('#chatCounter').text(response.Count['count(message)'])
                },
                error: function (xhr, status, error) {
$('#preloader').css('display','none');
                    $("#myModal_warning").modal("show");
                    setTimeout(function () {
                        $('#myModal_warning').modal('hide');
                    }, 2000);
                    // console.log(error);
                }
            });
        });
</script>
<script src="../assets/js/intercom.js"></script>
<script src="../assets/js/getNotification.js"></script>
<script src="../assets/js/push_notification.js"></script><script src="../assets/js/changeOnlineStatus.js"></script>
<script src="../assets/js/email-phone.js"></script>
<script>
        $(document).ready(function () {
            $.ajax({
                url: 'https://backend.app.spaderent.com/api/spade/ProfileComplete',
                method: 'GET',
                headers: {
                    'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                },
                success: function (response) {
                    // console.log(response);
                    var myprogress = `<div class="progress-bar bg-info" style="width: ` + response.count + `%;">` + response.count + `%</div>`;
                    $(".progress").html(myprogress)
                },
                error: function (xhr, status, error) {
$('#preloader').css('display','none');
                    // console.log('Error occurred while fetching state and city data.');
                    // console.log(xhr);
                    // console.log(error);
                }
            });
            $('#email_verification').on('click', function () {
                if ($('body').hasClass('dark-mode')) {
                    $('.Rent-logo').attr('src', '../assets/images/logo_white.png');
                } else {
                    $('.Rent-logo').attr('src', '../assets/images/Artboard GÇô 1.svg');
                }
            });
        });
</script>
<script>
    
        var selectedFiles = [];
        function dropHandler(ev) {
            // console.log("File(s) dropped");
            ev.preventDefault();
            if (ev.dataTransfer.items) {
                [...ev.dataTransfer.items].forEach((item, i) => {
                    if (item.kind === "file") {
                        const file = item.getAsFile();
                        file.size <= 5 * 1024 * 1024 && selectedFiles.length < 5 ? selectedFiles.push(file) : file.size > 5 * 1024 * 1024 ? $("#size-text").removeClass("d-none") : $("#count-text").removeClass("d-none") // Add each file to the selected files array
                        updateSelectedFilesContainer()
                    }
                });
            } else {
                [...ev.dataTransfer.files].forEach((file, i) => {
                    // console.log(`… file[${i}].name = ${file.name}`);
                });
            }
        }
        function dragOverHandler(ev) {
            // console.log("File(s) in drop zone");
            ev.preventDefault();
        }
        function updateSelectedFilesContainer() {
            var selectedFilesContainer = $('.file-grid');
            selectedFilesContainer.empty();
            console.log(selectedFiles.length)
            selectedFiles.forEach(function (file, index) {
                
                console.log(file)
                var fileElement = $('<div>')
                    .addClass('selected-file');
                if (file.type && file.type.includes('image')) {
                    fileElement.append(
                        $('<div>').addClass('file-preview')
                            .append($('<img style="height:80px">').attr('src', URL.createObjectURL(file)))
                    );
                } else if (file.type && file.type.includes('pdf')) {
                    fileElement.append(
                        $('<div>').addClass('file-preview')
                            .append($('<i style="font-size:50px">').addClass('fi fi-rs-file-pdf')) // Add your PDF icon class here
                    );
                } else {
                    if(file?.ImageKey){
                        if (file?.ImageKey?.endsWith('.jpg')|| file?.ImageKey?.endsWith('.webp') || file?.ImageKey?.endsWith('.jpeg')|| file?.ImageKey?.endsWith('.png')) {
                        fileElement.append(
                            $('<div>').addClass('file-preview')
                                .append($('<img style="height:80px">').attr('src', file.Image))
                        );
                    } else if (file?.ImageKey?.endsWith('.pdf')) {
                        fileElement.append(
                            $('<div>').addClass('file-preview')
                                .append($('<i style="font-size:50px">').addClass('fi fi-rs-file-pdf'))
                        );
                    } else {
                        fileElement.append(
                            $('<div>').addClass('file-preview')
                                .append($('<i style="font-size:50px">').addClass('fi fi-rs-file')) // Add an appropriate class for other files
                        );
                    }
                    }else{
                        if (file?.ImageKey?.endsWith('.jpg')|| file?.ImageKey?.endsWith('.webp') || file?.ImageKey?.endsWith('.jpeg')|| file?.ImageKey?.endsWith('.png')) {
                        fileElement.append(
                            $('<div>').addClass('file-preview')
                                .append($('<img style="height:80px">').attr('src', file.Image))
                        );
                    } else if (file?.ImageKey?.endsWith('.pdf')) {
                        fileElement.append(
                            $('<div>').addClass('file-preview')
                                .append($('<i style="font-size:50px">').addClass('fi fi-rs-file-pdf'))
                        );
                    } else {
                        fileElement.append(
                            $('<div>').addClass('file-preview')
                                .append($('<i style="font-size:50px">').addClass('fi fi-rs-file')) // Add an appropriate class for other files
                        );
                    }
                    }
                }
                if (file instanceof File) {
                    fileElement
                        .append(
                            $('<div>')
                                .addClass('file-details')
                                .append($('<span>').text(file.type.includes('pdf') ? "PDF-" + (index + 1) : "Image-" + (index + 1)))
                        )
                        .append(
                            $('<span>')
                                .addClass('delete-file')
                                .text('X')
                                .attr('data-index', index)
                        )
                        .appendTo(selectedFilesContainer);
                } else if (file instanceof Object) {
                    if (file.Image) {
                        fileElement
                            .append(
                                $('<div>')
                                    .addClass('file-details')
                                    .append($('<span>').text(file?.imageKey?.includes('pdf') ? "PDF-" + (index + 1) : "Image-" + (index + 1)))
                            )
                            .append(
                                $('<span>')
                                    .addClass('delete-file')
                                    .text('X')
                                    .attr('data-index', index)
                            )
                            .appendTo(selectedFilesContainer);
                    }
                }
            });
        }
        var taskInfo = [];
        var properties;
        let taskId;
        var taskPermissions;
        var userData;
        $(document).ready(function () {
             
        $.ajax({
                url: 'https://backend.app.spaderent.com/api/spade/protected',
                method: 'GET',
                headers: {
                    'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                },
                success: function ({ userName, image,tasks,create_at,planID,...rest }) {
                    userData=rest;
                    
                    console.log("hguydgdsygygduysgfsdg",userData)
                    $("#assignee,#assignee_update").append($("<option></option>").text((userData?.firstName + " " + userData?.lastName)+" (Assign yourself)").val((userData?.userId)+"l"));
                    $("#assignee").multipleSelect();
                    adjustPlan(rest)
                    localStorage.setItem("landlordName",userName)
                    if (image !== " " && image !== null && image !== "") {
                        $("#user-img").attr("src", image)
                        $("#user-img-dark").attr("src", image)
                        $(".profileImage").parent().remove()
                    }else{
                        $("#user-img").parent().remove()
                        $("#user-img-dark").parent().remove()
                        $(".profileImage").text(localStorage.getItem("landlordName").split(' ')[0].charAt(0).toUpperCase() +
                            localStorage.getItem("landlordName").split(' ')[1].charAt(0).toUpperCase());
                    }
                    function toTitleCase(str) {
                        return str.replace(/\w\S*/g, function (txt) {
                            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
                        });
                    }
                    $("#user-name").text(toTitleCase(userName))
                    $("#header-user").text(toTitleCase(userName))
                    taskPermissions = tasks
                    const createdDate_div = new Date(create_at);
const currentDate_div = new Date();
const timeDifference_div = currentDate_div - createdDate_div;
const daysPassed_div = Math.floor(timeDifference_div / (1000 * 60 * 60 * 24));
$(".plan_remaining_days_data").each(function(){
    $(this).text((30 - daysPassed_div) > 1 ? (30 - daysPassed_div) + " Days" : "1 Day");
});
                    if (parseInt(planID) != 1) {
                        $('.span_upgrade_now').hide()
                                    $('.span_upgrade_now_div').hide()
                        }
                },
                error: function (xhr, status, error) {
$('#preloader').css('display','none');
                    $("#myModal_warning").modal("show");
                    setTimeout(function () {
                        $('#myModal_warning').modal('hide');
                        window.location = '../Landlord/login_module.html';
                    }, 2000);
                    // console.log('Error occurred while fetching state and city data.');
                    // console.log(xhr);
                    // console.log(error);
                }
            });
            
            // $.ajax({
            //     url: 'https://backend.app.spaderent.com/api/spade/viewAllPropertyTenant',
            //     method: 'GET',
            //     contentType: "application/json; charset=utf-8",
            //     headers: {
            //         'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
            //     },
            //     success: function (response) {
            //         // console.log(response.data[0])
            //         $("#property").empty()
            //         $("#property").append($("<option></option>").text("Choose...").prop("selected", true))
            //         response.data[0].forEach((property) => {
            //             // console.log(property);
            //             var optionText = "Tenant: " + property.firstName + " " + property.lastName + " Property: " + property.propertyName;
            //             var optionValue = property.tenantID;
            //             $("#property").append($("<option></option>").text(optionText).val(optionValue));
            //             $("#property_update").append($("<option></option>").text(optionText).val(optionValue));
            //         });
            //     }
            // })


            //             $.ajax({
//                     url: 'https://backend.app.spaderent.com/api/spade/allproperty',
//                     type: 'GET',
//                     contentType: false,
//                     processData: false,
//                     headers: {
//                         'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
//                     },
//                     success: function (response) {
//                         $("#property").empty()
//                     $("#property").append($("<option></option>").text("Choose...").prop("selected", true))
//                     response?.data[0]?.forEach((property) => {
//                         // console.log(property);
//                         var optionText = property.propertyName;
//                         var optionValue = property.propertyId;
//                         $("#property").append($("<option></option>").text(optionText).val(optionValue));
//                         $("#property_update").append($("<option></option>").text(optionText).val(optionValue));
//                     });
//                     },
//                     error: function (xhr, status, error) {
// $('#preloader').css('display','none');
//                         $("#myModal_warning_connection").modal("show");
//                         setTimeout(function () {
//                             $('#myModal_warning_connection').modal('hide');
//                         }, 2000);
//                         // console.log('Error: ' + error);
//                     }
//                 });
                
                
                
            $.ajax({
                            url: "https://backend.app.spaderent.com/api/spade/userPermissionGetAll",
                            type: "GET",
                            contentType: "application/json",
                            headers: {
                                Authorization: "Bearer " + localStorage.getItem("authtoken"),
                            },
                            success: function (response) {
                                

                                if (response?.data?.length>=1) {
                                    response?.data?.forEach((user)=>{
                                    $("#assignee").append($("<option></option>").text((user?.UFirstName + " " + user?.ULastName)+' ('+user?.Urole+")").val((user?.id)+"u"));
                                })
                                
                                }
                                
                                $("#assignee").multipleSelect();
                            }, error: function (xhr, status, error) {
                            }
                        })
                        
            $.ajax({
                url: 'https://backend.app.spaderent.com/api/spade/getVendorAssignTo',
                method: 'GET',
                contentType: "application/json; charset=utf-8",
                headers: {
                    'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                },
                success: function (response) {
                    
                    var selectElement = $('#assignee');
                    
                    if (response.data.length === 0) {
                        $("#assignee_update").append($("<option></option>").text("No Vendor available.."));
                        selectElement.append($('<option></option>').text('No Vendor available..'));
                    } else {
                        response.data.forEach((vendor) => {
                            var optionText = ((vendor.firstName + " " + vendor.lastName)+' (vendor)');
                            var optionValue = (vendor.id+'v');
                            var option = $('<option></option>')
                                .val(optionValue)
                                .text(optionText);
                            selectElement.append(option);
                            $("#assignee_update").append($("<option></option>").text(optionText).val(optionValue));
                            
                            
                        });
                    }
                    selectElement.multipleSelect();
                    $("#assignee_update").multipleSelect();
                },
                error: function (xhr, status, error) {
$('#preloader').css('display','none');
                    if (xhr?.responseJSON?.message == "No vendor data found") {
                        // $("#assignee").empty()
                        // $("#assignee").prop("disabled", true);
                        // $('#addVendorAnchor').show()
                    }
                }
            })
            function areAllFieldsFilled(update) {
                if (update) {
                    // console.log("this is for update")
                    var accordion1Fields = $('#myModal_edit input[required], #myModal_edit select[required]');
                    var allFieldsFilled = accordion1Fields.filter(function () {
                        return $(this).val() === '' || $(this).val() === 'Choose...';
                    }).length === 0;
                    return allFieldsFilled;
                }
                var accordion1Fields = $('#addModal input[required], #addModal select[required]');
                var allFieldsFilled = accordion1Fields.filter(function () {
                    return $(this).val() === '' || $(this).val() === 'Choose...';
                }).length === 0;
                // console.log()
                return allFieldsFilled;
            }
            function updateButtonStatus(update) {
                if (update) {
                    // console.log("update button")
                    var allFieldsFilled = areAllFieldsFilled(update);
                    if (allFieldsFilled) {
                        $('#next').removeClass("disabled");
                    } else {
                        $('#next').addClass("disabled");
                    }
                } else {
                    var allFieldsFilled = areAllFieldsFilled();
                    // console.log(allFieldsFilled)
                    if (allFieldsFilled) {
                        $('#next').removeClass("disabled");
                    } else {
                        $('#next').addClass("disabled");
                    }
                }
            }
            $('#addModal input[required], #addModal select[required]').on('input change', function () {
                var $field = $(this);
                var $errorMessage = $field.next('.text-danger');
                if ($field.val() === '' || $field.val() === 'Choose...') {
                    $field.addClass('border-danger');
                    $field.removeClass('border-green');
                    $errorMessage.removeClass('d-none');
                } else {
                    $field.removeClass('border-danger');
                    $field.addClass('border-green');
                    $errorMessage.addClass('d-none');
                }
                updateButtonStatus();
            });
            $('.hide-select').on('input change', function () {
    if (event.type === 'change' || (event.type === 'input' && event.target.value !== event.target.defaultValue)) {
        if ($('.ms-choice span').text() == '') {
            $('.ms-choice').addClass('border-danger');
            $('.ms-choice').removeClass('border-green');
        } else {
            $('.ms-choice').removeClass('border-danger');
            $('.ms-choice').addClass('border-green');
        }
    }
});
            $('#myModal_edit input[required], #myModal_edit select[required], #myModal_edit textarea').on('input change', function () {
                var $field = $(this);
                var $errorMessage = $field.next('.text-danger');
                if ($field.val() === '' || $field.val() === 'Choose...') {
                    $field.addClass('border-danger');
                    $field.removeClass('border-green');
                    $errorMessage.removeClass('d-none');
                } else {
                    $field.removeClass('border-danger');
                    $field.addClass('border-green');
                    $errorMessage.addClass('d-none');
                }
                updateButtonStatus("_update");
            });
function dateFormatChanger(mydate = "Not set"){
var NewDate = (mydate != "Not set" ? mydate.split('-')[1] + "-" + mydate.split('-')[2] + "-" + mydate.split('-')[0] : "Not set")
return NewDate
}
            $(document).on('click', ".view-task", function (e) {
                e.preventDefault();
                const taskIdElement = $(this).closest("tr").find(".task-id");
                taskId = taskIdElement.attr("id")
                console.log(taskId,taskInfo)
                const data = taskInfo.find(obj => obj.taskid.toString() == taskId);
                console.log(data)
                if (data.images) {
                    selectedFiles = data.images
                } else {
                }
                updateSelectedFilesContainer()
                $("#taskName_view").text(data.taskName);
                $("#dueDate_view").text(dateFormatChanger(data.dueDate));
                $("#priority_view").text(data.priority);
                $("#status_view").text(data.status);
                $("#notes_view").text(data.notes || "Not set");
                // console.log($("#notes_view"))
                $("#view-task-line-item").empty()
                if(data?.AssignTo?.length > 0){
                    data.AssignTo.forEach((item) => {
// console.log(item)
$("#view-task-line-item").append(`
    <tr class="tr">
        <td>
            <p class="text-primary"><b>${item.name} / ${item.landlordPhone}</b></p>
        </td>
        <td>
            <p class="text-primary"><b>${data.propertyName} / ${data.unitNumber}</b></p>
        </td>
        ${data.tfirstName ?
            `<td>
                <p class="text-primary"><b>${data.tfirstName + " " + data.tlastName} / ${data.tenantPhone}</b></p>
            </td>` :
            `<td>
                <p class="text-primary"><b>Not Set</b></p>
            </td>`
        }
    </tr>
`);


                    })
                }
                else{
                    $("#view-task-line-item").append(`<tr class="tr">
                            <td>
                                <p class="text-primary"><b>${"Not set"}</b></p>
                            </td>
                            <td>
                                <p class="text-primary"><b>${data.propertyName} / ${data.unitNumber}</b></p>
                            </td>
                            <td>
                                <p class="text-primary"><b>${data.tfirstName + " " + data.tlastName} / ${data.tenantPhone}</b></p>
                            </td>
                        </tr>`)
                }
                console.log(data.images)
                if (data?.images[0]?.Image) {
                    const files = data.images;
                    $("#view-task-images").empty();
                    files.forEach((file) => {
                        if (file?.Image?.endsWith(".pdf") || file?.Image?.endsWith(".docx") || file?.Image?.endsWith(".doc")) {
                            $("#view-task-images").append(`
                <a href="${file.Image}" download="${file.imageKey}">
                    <i class="fi fi-rs-file-pdf" style="font-size: 50px;"></i>
                </a>&nbsp;`);
                        } else {
                            $("#view-task-images").append(`
                <img src="${file.Image}" width="200px" height="200px" alt="">&nbsp;`);
                        }
                    });
                } else {
                }
                $("#viewModal-tasks").modal("show")
            })
            $('#fileInput').on('change', function () {
                var files = Array.from($(this)[0].files);
                files.forEach(function (file) {
                    file.size <= 5 * 1024 * 1024 && selectedFiles.length < 5 ? selectedFiles.push(file) : file.size > 5 * 1024 * 1024 ? $("#size-text").removeClass("d-none") : $("#count-text").removeClass("d-none") // Add each file to the selected files array // Add each file to the selected files array
                });
                updateSelectedFilesContainer(); // Update the selected files container
            });
            $('#fileInput_update').on('change', function () {
                var files = Array.from($(this)[0].files);
                files.forEach(function (file) {
                    file.size <= 5 * 1024 * 1024 && selectedFiles.length < 5 ? selectedFiles.push(file) : file.size > 5 * 1024 * 1024 ? $("#size-text").removeClass("d-none") : $("#count-text").removeClass("d-none") // Add each file to the selected files array // Add each file to the selected files array
                });
                updateSelectedFilesContainer(); // Update the selected files container
            });
            $(document).on('click', '.delete-file', function () {
                var index = $(this).data('index');
                selectedFiles.splice(index, 1); // Remove the selected file from the array
                updateSelectedFilesContainer(); // Update the selected files container
            });
            function resetAccordions() {
                $('#addModal input[type="text"]').val('');
                $('#addModal input[type="date"]').val('');
                $('#addModal select').prop('selectedIndex', 0);
                $('#addModal textarea').val('');
                $('#addModal input[type="checkbox"]').prop('checked', false);
                $('.hide-select ul li').each(function () {
                    $(this).removeClass('selected')
                })
                $('#addModal .file-grid').empty();
                $('#next').addClass("disabled");
                $('#draft').attr("disabled", "disabled");
                $('.ms-choice span').text("")
                $('#addModal input[type="text"],#addModal input[type="date"],#addModal select,#addModal textarea,#addModal input[type="checkbox"]').removeClass('border-green border-danger')
            }
            $('#close,#top-close').on('click', function (e) {
                // console.log(333)
                e.preventDefault()
                $("#addModal .select2-selection__rendered").empty()
                resetAccordions()
                selectedFiles = []
                $(".file-grid").empty()
                $('#addModal').modal('hide');
            })
//             $(document).on('click', '#next', function (e) {
//                 e.preventDefault();
//                 // $('#addModal').modal('hide');
//                 $('#preloader').css('display', 'flex')
//                 var task = $("#task").val();
//                 var assignee = $("#assignee").val();
//                 var property = $("#property").val();
//                 var dueDate = $("#dueDate").val();
//                 var status = $("#status").val();
//                 var priority = $("#priority").val();
//                 var note = $("#notes").val();
//                 var formData = new FormData();
//                 var taskData = {}
//                 var isNotifyTenantChecked = $('input[name="example-checkbox1"]:eq(0)').is(':checked') ? "yes" : "no";
//                 var isNotifyAssigneesChecked = $('input[name="example-checkbox1"]:eq(1)').is(':checked') ? "yes" : "no";
//                 if (selectedFiles.length >= 1) {
//                     for (var i = 0; i < selectedFiles.length; i++) {
//                         formData.append('image', selectedFiles[i]);
//                     }
//                     $.ajax({
//                         url: 'https://backend.app.spaderent.com/api/spade/upload',
//                         type: 'POST',
//                         data: formData,
//                         contentType: false,
//                         processData: false,
//                         headers: {
//                             'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
//                         },
//                         success: function (response) {
//                             var imageArray = response.images;
//                             taskData = {
//                                 task: task,
//                                 assignee: assignee,
//                                 property: property,
//                                 dueDate: dueDate,
//                                 status: status,
//                                 priority: priority,
//                                 note: note,
//                                 notifyTenant: isNotifyTenantChecked,
//                                 notifyVendor: isNotifyAssigneesChecked,
//                                 images: imageArray,
//                             }
//                             $.ajax({
//                                 url: 'https://backend.app.spaderent.com/api/spade/addTasks',
//                                 type: 'POST',
//                                 data: JSON.stringify(taskData),
//                                 contentType: 'application/json',
//                                 headers: {
//                                     'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
//                                 },
//                                 success: function (response) {
//                                     $('#addModal').modal('hide');
//                                     $('#preloader').fadeOut('slow', function () {
//                                         $(this).hide();
//                                     });
//                                     if (response === "Task already exists") {
//                                         $("#infoModal").modal("show")
//                                     }
//                                     else {
//                                         GetNotification();
//                                         $("#succesModal").modal("show")
//                                         localStorage.setItem("task", "true")
//                                     }
//                                 },
//                                 error: function (xhr, status, error) {
// $('#preloader').css('display','none');
//                                     $("#myModal_warning_connection").modal("show");
//                                     setTimeout(function () {
//                                         $('#myModal_warning_connection').modal('hide');
//                                     }, 2000);
//                                     // console.log('Error: ' + error);
//                                 }
//                             });
//                         },
//                         error: function (xhr, status, error) {
// $('#preloader').css('display','none');
//                             $("#myModal_warning_connection").modal("show");
//                             setTimeout(function () {
//                                 $('#myModal_warning_connection').modal('hide');
//                             }, 2000);
//                             // console.log('Error: ' + error);
//                         }
//                     });
//                 } else {
//                     taskData = {
//                         task: task,
//                         assignee: assignee,
//                         property: property,
//                         dueDate: dueDate,
//                         status: status,
//                         priority: priority,
//                         note: note,
//                         notifyTenant: isNotifyTenantChecked,
//                         notifyVendor: isNotifyAssigneesChecked,
//                         images: [],
//                     }
//                     $.ajax({
//                         url: 'https://backend.app.spaderent.com/api/spade/addTasks',
//                         type: 'POST',
//                         data: JSON.stringify(taskData),
//                         contentType: 'application/json',
//                         headers: {
//                             'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
//                         },
//                         success: function (response) {
//                             $('#addModal').modal('hide');
//                             $('#preloader').fadeOut('slow', function () {
//                                 $(this).hide();
//                             });
//                             if (response === "Task already exists") {
//                                 $("#infoModal").modal("show")
//                             }
//                             else {
//                                 GetNotification();
//                                 $("#succesModal").modal("show")
//                             }
//                         },
//                         error: function (xhr, status, error) {
// $('#preloader').css('display','none');
//                             $("#myModal_warning_connection").modal("show");
//                             setTimeout(function () {
//                                 $('#myModal_warning_connection').modal('hide');
//                             }, 2000);
//                             // console.log('Error: ' + error);
//                         }
//                     });
//                 }
//             });
            
            $(document).on('click', '#next', function (e) {
                e.preventDefault();
                // $('#addModal').modal('hide');
                $('#preloader').css('display', 'flex')
                var task = $("#task").val();
                var assignee = []
                console.log($("#assignee").val())
                $("#assignee").val()?.forEach((item) => {
    if (item) {
        let id = parseInt(item); // Assuming the numeric content is at the beginning of the string
        let role = '';
        switch (item.slice(-1)) {
            case 'l':
                role = 'landlord';
                break;
            case 'v':
                role = 'vendor';
                break;
            case 'u':
                role = 'user';
                break;
            default:
                // Handle if none of the conditions match
                break;
        }
        if (role !== '') {
            let obj = {
                Vendorid: id,
                Vendorrole: role
            };
            assignee.push(obj);
        }
    }
});
                var property = $("#property").val();
                var dueDate = $("#dueDate").val();
                var status = $("#status").val();
                var priority = $("#priority").val();
                var note = $("#notes").val();
                var formData = new FormData();
                var taskData = {}
                
                var isNotifyAssigneesChecked = $('input[name="example-checkbox1"]:eq(1)').is(':checked') ? "yes" : "no";
                if (selectedFiles.length >= 1) {
                    for (var i = 0; i < selectedFiles.length; i++) {
                        formData.append('image', selectedFiles[i]);
                    }
                    $.ajax({
                        url: 'https://backend.app.spaderent.com/api/spade/upload',
                        type: 'POST',
                        data: formData,
                        contentType: false,
                        processData: false,
                        headers: {
                            'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                        },
                        success: function (response) {
                            var imageArray = response.images;
                            taskData = {
                                task: task,
                                assignee: assignee,
                                property: property,
                                dueDate: dueDate,
                                status: status,
                                priority: priority,
                                note: note,
                                propertyUnit:$("#unit").val(),
                                notifyVendor: isNotifyAssigneesChecked,
                                images: imageArray,
                            }
                            $.ajax({
                                url: 'https://backend.app.spaderent.com/api/spade/addUsersTask',
                                type: 'POST',
                                data: JSON.stringify(taskData),
                                contentType: 'application/json',
                                headers: {
                                    'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                                },
                                success: function (response) {
                                    $('#addModal').modal('hide');
                                    $('#preloader').fadeOut('slow', function () {
                                        $(this).hide();
                                    });
                                    if (response === "Task already exists") {
                                        $("#infoModal").modal("show")
                                    }
                                    else {
                                        GetNotification();
                                        $("#succesModal").modal("show")
                                        localStorage.setItem("task", "true")
                                    }
                                },
                                error: function (xhr, status, error) {
$('#preloader').css('display','none');
                                    $("#myModal_warning_connection").modal("show");
                                    setTimeout(function () {
                                        $('#myModal_warning_connection').modal('hide');
                                    }, 2000);
                                    // console.log('Error: ' + error);
                                }
                            });
                        },
                        error: function (xhr, status, error) {
$('#preloader').css('display','none');
                            $("#myModal_warning_connection").modal("show");
                            setTimeout(function () {
                                $('#myModal_warning_connection').modal('hide');
                            }, 2000);
                            // console.log('Error: ' + error);
                        }
                    });
                } else {
                    taskData = {
                        task: task,
                        assignee: assignee,
                        property: property,
                        dueDate: dueDate,
                        status: status,
                        priority: priority,
                        note: note,
                        propertyUnit:$("#unit").val(),
                        notifyVendor: isNotifyAssigneesChecked,
                        images: [],
                    }
                    $.ajax({
                        url: 'https://backend.app.spaderent.com/api/spade/addUsersTask',
                        type: 'POST',
                        data: JSON.stringify(taskData),
                        contentType: 'application/json',
                        headers: {
                            'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                        },
                        success: function (response) {
                            $('#addModal').modal('hide');
                            $('#preloader').fadeOut('slow', function () {
                                $(this).hide();
                            });
                            if (response === "Task already exists") {
                                $("#infoModal").modal("show")
                            }
                            else {
                                GetNotification();
                                $("#succesModal").modal("show")
                            }
                        },
                        error: function (xhr, status, error) {
$('#preloader').css('display','none');
                            $("#myModal_warning_connection").modal("show");
                            setTimeout(function () {
                                $('#myModal_warning_connection').modal('hide');
                            }, 2000);
                            // console.log('Error: ' + error);
                        }
                    });
                }
            });
            
            
            let propertyId;
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                var k = 1024;
                var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
                var i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            function truncateFileName(fileName) {
                var maxFileNameLength = 10; // Define the maximum length of the file name
                if (fileName.length > maxFileNameLength) {
                    return fileName.substring(0, maxFileNameLength) + '...'; // Truncate the file name
                }
                return fileName;
            }
            $('#propertyTable').DataTable({
                paging: true,
                searching: false,
                info: false,
                lengthChange: false,
                pageLength: 10,
            });
            let columnsToHide = []
            $('input[type="checkbox"]').change(function () {
                var columnIndex = $(this).closest('li').index(); // Get the index of the corresponding <li> element
                var isColumnVisible = $(this).prop('checked'); // Check if the checkbox is checked or unchecked
                // console.log(columnIndex, isColumnVisible)
                $('table').find('tr').each(function () {
                    var column = $(this).find('th:nth-child(' + (columnIndex + 1) + '), td:nth-child(' + (columnIndex + 1) + ')');
                    isColumnVisible ? column.show() : column.hide();
                });
            });
            $("#succesModal, #infoModal").on('hide.bs.modal', function () {
    var $modal = $(this); // Store the modal element in a variable
    $modal.find('.select2-selection__rendered').empty();
    resetAccordions();
    getData();
});
            let result;
            function filterTable(selectedFilter) {
                var tableBody = $('#table_body');
                var rows = tableBody.find('tr');
                if (selectedFilter === 'alphabets') {
                    rows.sort(function (a, b) {
                        var textA = $(a).find('.propertyName').text().toLowerCase();
                        var textB = $(b).find('.propertyName').text().toLowerCase();
                        return textA.localeCompare(textB);
                    });
                } else if (selectedFilter === 'ascending') {
                    rows.sort(function (a, b) {
                        var idA = parseInt($(a).find('.serial-number').text());
                        var idB = parseInt($(b).find('.serial-number').text());
                        return idA - idB;
                    });
                } else if (selectedFilter === 'descending') {
                    rows.sort(function (a, b) {
                        var idA = parseInt($(a).find('.serial-number').text());
                        var idB = parseInt($(b).find('.serial-number').text());
                        return idB - idA;
                    });
                }else if (selectedFilter === 'recently-added') {
        rows.sort(function (a, b) {
            // console.log($(a),$(b))
            var createdAtA = new Date($(a).find('.task-id').attr('data-id'));
            var createdAtB = new Date($(b).find('.task-id').attr('data-id'));
            // console.log(createdAtA, createdAtB)
            return createdAtB - createdAtA;
        });
    }
                tableBody.empty().append(rows);
            }
            $('#ascending').on('click', function () {
                filterTable("ascending")
            });
            $('#descending').on('click', function () {
                filterTable("descending")
            });
            $('#alphabets').on('click', function () {
                filterTable("alphabets")
            });
            $('#created-at').on('click', function () {
    filterTable("recently-added");
});
            $(document).on('keyup', '#search_input', function () {
                var searchValue = $(this).val().toLowerCase();
                var numRowsToShow = $('#lengthSelectBox').val();
                $('#table_body tr').filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(searchValue) > -1);
                });
                if (searchValue === '') {
                    $('#table_body tr:visible:lt(' + numRowsToShow + ')').show();
                    $('#table_body tr:visible:gt(' + (numRowsToShow - 1) + ')').hide();
                }
            });
            function updateTable() {
                $('#table_body').empty();
                $.ajax({
                    url: 'https://backend.app.spaderent.com/api/spade/allproperty',
                    type: 'GET',
                    contentType: false,
                    processData: false,
                    headers: {
                        'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                    },
                    success: function (response) {
                        var tableBody = $('#table_body');
                        response.forEach(function (property) {
                            var row = '<tr>' +
                                '<td>' + property.propertyId + '</td>' +
                                '<td>' + property.propertyName + '</td>' +
                                '<td>' + property.propertyType + '</td>' +
                                '<td>' + property.units + '</td>' +
                                '<td>' + property.address + '</td>' +
                                '</tr>';
                            tableBody.append(row);
                        });
                    },
                    error: function (xhr, status, error) {
$('#preloader').css('display','none');
                        $("#myModal_warning_connection").modal("show");
                        setTimeout(function () {
                            $('#myModal_warning_connection').modal('hide');
                        }, 2000);
                        // console.log('Error: ' + error);
                    }
                });
            
            }
            $('#myModal_edit').on('hidden.bs.modal', function () {
                $(this).find('input, textarea, select').val('');
                $(this).find('input[type="radio"]').prop('checked', false);
                $('#myModal_edit').find('.file-grid').empty();
                $('#accordion-item1').find('.file-grid').empty();
            });
$('#myModal_edit input[required] , #myModal_edit select[required]').on('input change',function(){
    var modalValid = $(this).val();
  var modalValid_span = $(this).siblings('.text-danger');
  if (
    ($(this).is('input') && modalValid == '') || 
    ($(this).is('select') && modalValid == 'Choose...') || 
    ($(this).is('select') && modalValid == '')
  ) {
    $('#save').addClass('disabled')
  } else {
    $('#save').removeClass('disabled')
  }
})
            $(document).on('click', '#save', function (e) {
                e.preventDefault();
                $("#myModal_edit").modal("hide");
                var formData = new FormData();
                var message = $("#message").val();
                var dueDate = $("#dueDate_update").val();
                var taskName = $("#taskName_update").val();
                var unit=$("#unit_update").val();
                var property = $("#property_update").val();
                var priority = $("#priority_update").val();
                var status = $("#status_update").val();
                var assignee = []
                console.log($("#assignee_update").val())
                $("#assignee_update").val()?.forEach((item) => {
    if (item) {
        let id = parseInt(item); // Assuming the numeric content is at the beginning of the string
        let role = '';
        switch (item.slice(-1)) {
            case 'l':
                role = 'landlord';
                break;
            case 'v':
                role = 'vendor';
                break;
            case 'u':
                role = 'user';
                break;
            default:
                // Handle if none of the conditions match
                break;
        }
        if (role !== '') {
            let obj = {
                Vendorid: id,
                Vendorrole: role
            };
            assignee.push(obj);
        }
    }
});
                var isNotifyAssigneesChecked = $('input[name="example-checkbox1_update"]:eq(1)').is(':checked') ? "yes" : "no";
                var existingImageNames = [];
                selectedFiles.forEach((file) => {
                    if (file instanceof File) {
                    }
                    else {
                        existingImageNames.push(file)
                    }
                })
                if (selectedFiles.length >= 1) {
                    var files = selectedFiles.map(function (file) {
                        return file instanceof File ? file : file.name;
                    });
                    files.forEach(function (file) {
                        formData.append('image', file);
                    });
                    $.ajax({
                        url: 'https://backend.app.spaderent.com/api/spade/upload',
                        type: 'POST',
                        data: formData,
                        contentType: false,
                        processData: false,
                        headers: {
                            'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                        }, success: function (response) {
                            var imageArray = [...response.images, ...existingImageNames];
                            const formData = {
                                taskID: taskId,
                                notifyAssignee: isNotifyAssigneesChecked,
                                notes: message,
                                dueDate: dueDate,
                                taskName: taskName,
                                property: property,
                                PropertyUnit:unit,
                                priority: priority,
                                status: status,
                                assignee: assignee,
                                images: imageArray
                            }
                            $.ajax({
                                url: 'https://backend.app.spaderent.com/api/spade/updateUserTask',
                                type: 'PUT',
                                data: JSON.stringify(formData),
                                contentType: 'application/json',
                                headers: {
                                    'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                                },
                                success: function (response) {
                                    e.preventDefault()
                                    getData();
                                    $("#successfully_changed_text").text("Successfully Updated");
                                    $("#successfully_changed").modal("show");
                                    setTimeout(function () {
                                        $("#successfully_changed").modal("hide");
                                    }, 2000);
                                },
                                error: function (xhr, status, error) {
$('#preloader').css('display','none');
                                    $("#myModal_warning_connection").modal("show");
                                    setTimeout(function () {
                                        $('#myModal_warning_connection').modal('hide');
                                    }, 2000);
                                    // console.log('Error: ' + error);
                                }
                            });
                        }, error: function () {
                        }
                    })
                } else {
                    const formData = {
                        taskID: taskId,
                                notifyAssignee: isNotifyAssigneesChecked,
                                notes: message,
                                dueDate: dueDate,
                                taskName: taskName,
                                property: property,
                                PropertyUnit:unit,
                                priority: priority,
                                status: status,
                                assignee: assignee,
                        images: []
                    }
                    $.ajax({
                        url: 'https://backend.app.spaderent.com/api/spade/updateUserTask',
                        type: 'PUT',
                        data: JSON.stringify(formData),
                        contentType: 'application/json',
                        headers: {
                            'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                        },
                        success: function (response) {
                            e.preventDefault()
                            getData();
                            $("#successfully_changed_text").text("Successfully Updated");
                            $("#successfully_changed").modal("show");
                            setTimeout(function () {
                                $("#successfully_changed").modal("hide");
                            }, 2000);
                        },
                        error: function (xhr, status, error) {
$('#preloader').css('display','none');
                            $("#myModal_warning_connection").modal("show");
                            setTimeout(function () {
                                $('#myModal_warning_connection').modal('hide');
                            }, 2000);
                            // console.log('Error: ' + error);
                        }
                    });
                }
            });
            
            $(document).on('click', '#confirmDelete', function (e) {
                e.preventDefault();
                $('#myModal_delete').modal('hide');
                $.ajax({
                    url: 'https://backend.app.spaderent.com/api/spade/deleteUserTask',
                    type: 'DELETE',
                    data: JSON.stringify({
                        "taskID": taskId
                    }),
                    contentType: "application/json; charset=utf-8",
                    processData: false,
                    headers: {
                        'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                    },
                    success: function (response) {
                        getData()
                        $("#successfully_changed_text").text("Successfully Deleted");
                        $("#successfully_changed").modal("show");
                        setTimeout(function () {
                            $("#successfully_changed").modal("hide");
                        }, 2000);
                    },
                    error: function (xhr, status, error) {
$('#preloader').css('display','none');
                        $("#myModal_warning_connection").modal("show");
                        setTimeout(function () {
                            $('#myModal_warning_connection').modal('hide');
                        }, 2000);
                        // console.log('Error: ' + error);
                    }
                });
            })
            function getData() {
                // console.log(2)
                $("#global-loader").fadeIn("fast")
                $.ajax({
                    url: 'https://backend.app.spaderent.com/api/spade/getAllUserTask',
                    type: 'GET',
                    contentType: false,
                    processData: false,
                    headers: {
                        'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                    },
                    success: function (response) {
                        // console.log(response);
                        if (response?.data?.length === 0) {
                            localStorage.setItem("task", "false")
                            window.location = './new-tasks.html'
                        } else {
                            var tableBody = $('#table_body');
                            tableBody.empty();
                            function toTitleCase(str) {
                                return str.replace(/\w\S*/g, function (txt) {
                                    return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
                                });
                            }
                            taskInfo = response.data
                            // console.log
                            response?.data?.forEach(function (task, index) {
                                // console.log(task?.taskImages[0])
                                var serial = '<td style="font-weight: 600;" class="serial-number">' + (index + 1) + '</td>';
                                var taskId= '<td style="font-weight: 600;">' + task.cTaskId + '</td>';
                                if (task?.images[0]?.ImageKey?.includes('pdf') || task?.images[0]?.ImageKey?.includes('docx')) {
                                    var image = '<td><i style="font-size:50px" class="fi fi-rs-file"></i></td>';
                                } else {
                                    if (task?.images[0]?.Image !== null) {
                                        var image = '<td><img src="' + task?.images[0]?.Image + '" alt=""></td>';
                                    } else {
                                        var image = '<td><img src="' + "../assets/images/Group-user.png" + '" alt=""></td>';
                                    }
                                }
                                var createdDate = new Date(task.created_at);
                                var currentDate = new Date();
                                var timeDiff = Math.abs(currentDate - createdDate);
                                var minutesDiff = Math.floor(timeDiff / (1000 * 60));
                                var hoursDiff = Math.floor(minutesDiff / 60);
                                var daysDiff = Math.floor(hoursDiff / 24);
                                var taskName = `<td class="task-id propertyName" id=${task.taskid} data-id="${task.created_at}" style="font-weight: 600;">` + '<p style="font-weight: 600;cursor: pointer;" class="mb-1 view-task">' + task.taskName + '</p>' +
                                    `<span class="font-weight-normal" style="color: #9B9B9B;"> By ${task.createdBy} - `;
                                if (daysDiff > 0) {
                                    taskName += `${daysDiff} days`;
                                } else if (hoursDiff > 0) {
                                    taskName += `${hoursDiff} hours`;
                                } else {
                                    taskName += `${minutesDiff} minutes`;
                                }
                                taskName += '</span>' + '</td>';
                                if (task.AssignTo.length >= 1) {
                                    var assignTo = '<td><div style="font-weight: 600;text-align: center;display: flex;">';
                                    for (var i = 0; i < task.AssignTo.length; i++) {
                                        var name = task.AssignTo[i].name;
                                        var email = task.AssignTo[i].email;
                                        assignTo += `
        <div class="me-2">
            <i class="fi fi-rs-circle-user avatar-md fs-30"></i>
            <div class="media-body valign-middle mt-0">
                <a href="javascript:void(0)" class="text-dark fw-semibold">${name}</a>
            </div>
        </div>`;
                                        if (i === 1) {
                                            if((Number(task.AssignTo.length) - 2)== 0){
                                                break;
                                            }
                                            assignTo += `
        <div style="text-align: -webkit-center;">
            <div class="fw-bold worker-count">+${Number(task.AssignTo.length) - 2}</div>
            <div class="media-body valign-middle mt-0">
                <a href="javascript:void(0)" class="text-dark fw-semibold view-task">View All</a>
            </div>
        </div>`;
                                            break;
                                        }
                                    }
                                    assignTo += '</div></td>';
                                }
                                else {
                                    var assignTo = '<td>Not Assigned</td>';
                                }
                                var currentDate = new Date();
                                var dueDate = '';
                                var priorityClass = ''; // Initialize a variable to store the CSS class for text color
if (task.priority == 'High') {
    priorityClass = 'text-danger'; // Set the class for high priority
} else if (task.priority == 'Low') {
    priorityClass = 'text-success'; // Set the class for low priority
} else if (task.priority == 'Moderate') {
    priorityClass = 'text-warning'; // Set the class for moderate priority
}
var priorityIcon = ''; // Initialize a variable to store the CSS class for text color
if (task.priority == 'High') {
    priorityIcon = '<i class="fi fi-rs-triangle-warning me-1 text-danger"></i>'; // Set the class for high priority
} else if (task.priority == 'Low') {
    priorityIcon = '<i class="fi fi-rs-hexagon-exclamation me-1 text-success"></i>'; // Set the class for low priority
} else if (task.priority == 'Moderate') {
    priorityIcon = '<i class="fi fi-rs-shield-exclamation me-1 text-warning"></i>'; // Set the class for moderate priority
}
                                if (task.dueDate) {
                                    var targetDate = new Date(task.dueDate);
                                    var timeDiff = targetDate.getTime() - currentDate.getTime();
                                    var daysLeft = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));
                                    var year = targetDate.getFullYear().toString().slice(-2); // Extract last two digits of year
                                    var month = (targetDate.getMonth() + 1).toString().padStart(2, '0'); // Add leading zero if necessary
                                    var day = targetDate.getDate().toString().padStart(2, '0'); // Add leading zero if necessary
                                    var formattedDueDate = `${month}/${day}/${year}`;
                                    dueDate = '<td class="due-at " style="font-weight: 600;">' + '<p style="font-weight: 600;" class="mb-1">' + `${formattedDueDate ? formattedDueDate : "Not Set"}` + '</p>' + `<span class="font-weight-normal ${priorityClass}">${priorityIcon}${task.priority}</span>` + '</td>';
                                } else {
                                    dueDate = '<td class="due-at " style="font-weight: 600;">' + '<p style="font-weight: 600;" class="mb-1">' + `${task.dueDate ? task.dueDate : "Not Set"}` + '</p>' + `<span class="font-weight-normal ${priorityClass}">${priorityIcon}${task.priority}</span>` + '</td>';
                                }
                                var relatedTo = '<td class="property-id " style="font-weight: 600;">' + '<p style="font-weight: 600;" class="mb-1">' + (task.propertyName ? toTitleCase(task.propertyName) : "Not Set") + '</p>' + `<span class="font-weight-normal text-danger">Unit Number: ${task.unitNumber}</span>` + '</td>';
                                var status = '<td class="status " style="font-weight: 600;">' + (task.status ? toTitleCase(task.status) : "Not Set") + '</td>';
                                var dropdownMenu =
                                    '<td><i class="fe fe-more-vertical" data-bs-toggle="dropdown"></i>' +
                                    '<ul class="dropdown-menu">' +
                                    `<li><a class="dropdown-item text-success view-task" data-bs-effect="effect-scale" data-bs-toggle="modal" href="#">View</a></li>` +
                                    '<li><a class="edit-option dropdown-item text-primary" href="javascript:void(0)">Edit</a></li>' +
                                    '<li><a class="delete-option dropdown-item text-danger" href="javascript:void(0)">Delete</a></li>' +
                                    '</ul></td>';
                                var row = '<tr>' + serial+taskId + image + taskName + assignTo + dueDate +
                                    relatedTo + status + dropdownMenu + '</tr>';
                                tableBody.append(row);
                            });
                            $("#global-loader").fadeOut("slow")
                            $('.edit-option').click(function (e) {
                                e.preventDefault();
                                const taskIdElement = $(this).closest("tr").find(".task-id");
                                taskId = taskIdElement.attr("id")
                                const data = response.data.find(obj => obj.taskid.toString() == taskId);
                                console.log(data)
                                // console.log(taskId)
                                if (data.images) {
                                    selectedFiles = data.images
                                } else {
                                }
                                updateSelectedFilesContainer()
                                $("#message").val(data.notes);
                                $("#dueDate_update").val(data.dueDate);
                                $("#taskName_update").val(data.taskName);
                                $("#property_update").val(data.propertyId);
                                var propertyData=properties.find((property)=>{
                    return property.id==data.propertyId
                })
                console.log(propertyData)
                propertyData.occupiedUnits.forEach((unit)=>{
                    $("#unit_update").append($("<option></option>").text(unit.unitNumber).val(unit.id))
                })
                propertyData.vacantUnits.forEach((unit)=>{
                    $("#unit_update").append($("<option></option>").text(unit.unitNumber).val(unit.id))
                })
                $("#unit_update").val(data.id);
                                $("#priority_update").find(`option[name="${data.priority.toLowerCase()}"]`).prop("selected", true);
                                $("#status_update").find(`option[value="${data.taskStatus}"]`).prop("selected", true);
                                $("#myModal_edit .select2-selection__rendered").empty()
                                data.AssignTo.forEach(({
                                    ID,
                                    name,
                                    role
                }) => {
                    if(role=="Landlord"){
                        ID=ID+"l"
                    }else if(role=="Vendor"){
                        ID=ID+"v"
                    }else if(role=="User"){
                        ID=ID+"u"
                    }
                                    $("#assignee_update").find(`option[value="${ID}"]`).prop("selected", true);
                                    $("#myModal_edit .select2-selection__rendered").append(`<li class="select2-selection__choice" title="${name}">${name}</li>`)
                                })
                                $('#myModal_edit').modal('show');
                            });
                            $('.delete-option').click(function (e) {
                                e.preventDefault(); // Prevent default anchor behavior
                                const taskIdElement = $(this).closest("tr").find(".task-id");
                                taskId = taskIdElement.attr("id");
                                $('#myModal_delete').modal('show');
                            });
                        }
                    },
                    error: function (xhr, status, error) {
$('#preloader').css('display','none');
                        // console.log(error)
                        $("#myModal_warning").modal("show");
                        setTimeout(function () {
                            $('#myModal_warning').modal('hide');
                            window.location = '../Landlord/login_module.html';
                        }, 2000);
                    }
                });
                
                $.ajax({
                    url: 'https://backend.app.spaderent.com/api/spade/getPropertyUnitsTenant',
                    type: 'GET',
                    contentType: false,
                    processData: false,
                    headers: {
                        'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                    },
                    success: function (response) {
                        // properties = response.data;
                        properties=response?.data;
                        // Assuming the response data is an array of property objects
                        // console.log("property", response.data)
                        
                        $('#property,#property_update').empty(); // Clear existing options
                        $('#property,#property_update').append($('<option></option>')
                            .text("Choose...")
                        )
                        properties.forEach(function (property) {
                            var option = $('<option></option>')
                                .text(property.propertyName)
                                .val(property.id);
                            $('#property,#property_update').append(option);
                        });


                        $('#property,#property_update').change(function () {
                            var selectedPropertyId = $(this).val();
                            console.log(selectedPropertyId)
                            var selectedProperty = properties.find(function (property) {
                                return property.id == selectedPropertyId;
                            });
                            console.log(selectedProperty)
                            var propertyUnitSelect = $('#unit');
                            $('#unit,#unit_update').empty()
                            
                                $('#unit,#unit_update').append($('<option></option>')
                                    .text("Choose..."))
                                selectedProperty.vacantUnits.forEach(function (unit) {
                                    var option = $('<option></option>')
                                        .text(unit.unitNumber)
                                        .val(unit.id);
                                    $('#unit,#unit_update').append(option);
                                });
                                selectedProperty.occupiedUnits.forEach(function (unit) {
                                    var option = $('<option></option>')
                                        .text(unit.unitNumber)
                                        .val(unit.id);
                                    $('#unit,#unit_update').append(option);
                                });
                            
                        });
                        $('#addUnitBtn').hide()
                        $('#addModal_units').modal('hide')
                    },
                    error: function (xhr, status, error) {
$('#preloader').css('display','none');
                        $("#myModal_warning_connection").modal("show");
                        setTimeout(function () {
                            $('#myModal_warning_connection').modal('hide');
                        }, 2000);
                        // console.log('Error: ' + error);
                    }
                });
            
            }
            getData()
            $(document).on('input change', '#addModal input, #addModal select, #addModal input, #addModal select,#addModal textarea', function () {
                var $field = $(this);
                var $errorMessage = $field.next('.text-danger');
                if ($field.val() === '' || $field.val() === 'Choose...') {
                    $field.addClass('border-danger');
                    $field.removeClass('border-green');
                    $errorMessage.removeClass('d-none');
                } else {
                    $field.removeClass('border-danger');
                    $field.addClass('border-green');
                    $errorMessage.addClass('d-none');
                }
            });
        })
</script>
<script>
        function logout() {
            $(document).ready(function () {
                $.ajax({
                    url: 'https://backend.app.spaderent.com/api/spade/inactiveUser',
                    type: 'PUT',
                    contentType: false,
                    processData: false,
                    headers: {
                        'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                    },
                    success: function (response) {
                        // console.log(response);
                        if (localStorage.getItem("htmlLayout")) {
                            const htmlLayoutValue = localStorage.getItem("htmlLayout");
                            localStorage.clear();
                            localStorage.setItem("htmlLayout", htmlLayoutValue);
                        } else {
                            localStorage.clear();
                        }
                        if($('body').hasClass('dark-mode')){
                        localStorage.setItem("sashdarkMode",true)
                    }else if($('body').hasClass('light-mode')){
                        localStorage.setItem("sashlightMode",true)
                    }
                    window.open('./login_module.html', "_self")
                        // console.log('Done');
                    },
                    error: function (xhr, status, error) {
$('#preloader').css('display','none');
                        // console.log(error);
                    }
                });
            });
        }
</script>
<script>
        $(document).ready(() => {
            $.ajax({
                url: 'https://backend.app.spaderent.com/api/spade/verifyMailCheck',
                method: 'GET',
                headers: {
                    'Authorization': 'Bearer ' + localStorage.getItem("authtoken")
                },
                success: function (response) {
                    // console.log("here")
                    if (response.message == "Email is verified") {
                        $("#account-text").remove()
                        $("#email_verification").remove()
                    }
                },
                error: function (xhr, status, error) {
$('#preloader').css('display','none');
                    // console.log('Error occurred while fetching state and city data.');
                    // console.log(xhr);
                    // console.log(error);
                }
            });
        })
</script>
<script>
        $(document).change(function () {
            if ($('#search_input').val() == "") {
                let count = 1;
                $("#table_body tr").each(function (item, index) {
                    // console.log(count, parseInt($("#lengthSelectBox").val()))
                    if (count > parseInt($("#lengthSelectBox").val())) {
                        $(this).hide()
                    }
                    else {
                        $(this).show()
                    }
                    count++;
                })
            }
        })
        $(document).ajaxStop(function () {
            if ($('#search_input').val() == "") {
                let count = 1;
                $("#table_body tr").each(function (item, index) {
                    // console.log(count, parseInt($("#lengthSelectBox").val()))
                    if (count > parseInt($("#lengthSelectBox").val())) {
                        $(this).hide()
                    }
                    else {
                        $(this).show()
                    }
                    count++;
                })
            }
        })
</script>
<script>
            $(document).ajaxStop(function () {
        if(taskPermissions){
                const actions = ["Add", "Edit", "Delete", "Restrict", "View"];
            for (const action of actions) {
                if (!taskPermissions[action]) {
                    switch (action) {
        case "Add":
            $("#add_property_btn").remove()
            break;
        case "View":
            $("#table_body tr").each(function (item, index) {
                $(this).find(".view-task").addClass("d-none")
            })
            break;
        case "Delete":
        $("#table_body tr").each(function (item, index) {
                $(this).find(".delete-option").addClass("d-none")
            })
            break;
        case "Edit":
        $("#table_body tr").each(function (item, index) {
                $(this).find(".edit-option").addClass("d-none")
            })
            break;
        default:
            break;
    }
                }
}
            }
        })
        const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.type === 'childList') {
                if(taskPermissions){
                const actions = ["Add", "Edit", "Delete", "Restrict", "View"];
            for (const action of actions) {
                if (!taskPermissions[action]) {
                    switch (action) {
        case "Add":
            $("#add_property_btn").remove()
            break;
        case "View":
            $("#table_body tr").each(function (item, index) {
                $(this).find(".property-anchor").attr("href", "javascript:void(0)")
                $(this).find(".view-property").addClass("d-none")
            })
            break;
        case "Delete":
        $("#table_body tr").each(function (item, index) {
                $(this).find(".delete-option").addClass("d-none")
            })
            break;
        case "Edit":
        $("#table_body tr").each(function (item, index) {
                $(this).find(".edit-option").addClass("d-none")
            })
            break;
        default:
            break;
    }
                }
}
            }
            }
        });
    });
    observer.observe(document, { subtree: true, childList: true, attributes: true, characterData: true });
</script>
<script>
        var helloGuys = true;
        $(document).ajaxStop(function () {
            if (helloGuys) {
                helloGuys = false;
                var customScript = document.createElement('script');
                customScript.src = "../assets/js/custom.js";
                document.head.appendChild(customScript);
            }
        });
</script>
<script src="../assets/js/user-sidebar-permissions.js"></script>
</body>
</html>
